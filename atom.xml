<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>超元气Zeroの札记</title>
  <icon>https://www.gravatar.com/avatar/6f2cdb2237458c9d449c99b722c0099d</icon>
  <subtitle>一个集美貌与才华于一身的程序媛</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://liuchao0704.github.io/"/>
  <updated>2018-07-22T04:22:54.989Z</updated>
  <id>https://liuchao0704.github.io/</id>
  
  <author>
    <name>超元气Zero</name>
    <email>2820501417@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>5、内联元素与流</title>
    <link href="https://liuchao0704.github.io/2018/05/07/cssworld03/"/>
    <id>https://liuchao0704.github.io/2018/05/07/cssworld03/</id>
    <published>2018-05-07T05:18:55.000Z</published>
    <updated>2018-07-22T04:22:54.989Z</updated>
    
    <content type="html"><![CDATA[<p>line-height相关知识。<br><a id="more"></a></p><h2 id="5-1-字母x–CSS世界中隐匿的举足轻重的角色"><a href="#5-1-字母x–CSS世界中隐匿的举足轻重的角色" class="headerlink" title="5.1 字母x–CSS世界中隐匿的举足轻重的角色"></a>5.1 字母x–CSS世界中隐匿的举足轻重的角色</h2><h3 id="5-1-1-字母x与CSS世界的基线"><a href="#5-1-1-字母x与CSS世界的基线" class="headerlink" title="5.1.1 字母x与CSS世界的基线"></a>5.1.1 字母x与CSS世界的基线</h3><p>字母x的下边缘是css世界的基线</p><h3 id="5-1-2-字母x与CSS中x-height"><a href="#5-1-2-字母x与CSS中x-height" class="headerlink" title="5.1.2 字母x与CSS中x-height"></a>5.1.2 字母x与CSS中x-height</h3><ul><li>x-height: 小写字母x的高度也就是ex</li><li><code>vertical-align:middle</code> middle是指基线往上1/2处x-heght的高度。可以近似理解x交叉点的位置。</li></ul><h2 id="5-2-内联元素的基石"><a href="#5-2-内联元素的基石" class="headerlink" title="5.2 内联元素的基石"></a>5.2 内联元素的基石</h2><h3 id="5-2-1-内联元素的高度之本-————-line-height"><a href="#5-2-1-内联元素的高度之本-————-line-height" class="headerlink" title="5.2.1 内联元素的高度之本 ———— line-height"></a>5.2.1 内联元素的高度之本 ———— line-height</h3><ul><li>line-height决定非替换元素的纯内联元素的可视高度。 </li><li>内联元素的高度由固定高度和不固定的高度组成，这个不固定的高度就是指“行距”。</li><li>css中“行距”分散在当前文字的上方和下方，也就是第一行文字，其上方也是有“行距”的，不过高度是“行距”的一半，也叫做半“行距”。</li><li>行距 = line-height - font-size</li><li>对于替换元素来说line-height改变不了其高度</li><li>对于块级元素，line-height对其本身没有任何作用，我们改变line-height，块级元素的高度跟着变化实际上是通过改变块级元素里面的内联级别元素占据的高度实现的。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;line-height相关知识。&lt;br&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://liuchao0704.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>4、盒尺寸四大家族</title>
    <link href="https://liuchao0704.github.io/2018/05/06/cssworld02/"/>
    <id>https://liuchao0704.github.io/2018/05/06/cssworld02/</id>
    <published>2018-05-06T05:18:37.000Z</published>
    <updated>2018-07-21T05:44:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>了解content/padding/margin</p><a id="more"></a><h2 id="4-1-深入理解content"><a href="#4-1-深入理解content" class="headerlink" title="4.1 深入理解content"></a>4.1 深入理解content</h2><h3 id="4-1-1-contnet-与替换元素"><a href="#4-1-1-contnet-与替换元素" class="headerlink" title="4.1.1 contnet 与替换元素"></a>4.1.1 contnet 与替换元素</h3><h3 id="什么是替换元素"><a href="#什么是替换元素" class="headerlink" title="什么是替换元素"></a>什么是替换元素</h3><p>通过修改某个属性值呈现的内容就可以被替换的元素就称为“替换元素”。典型的替换元素 <code>&lt;img&gt;</code>,<code>&lt;object&gt;</code>,<code>video</code>,<code>&lt;iframe&gt;</code>,<code>&lt;textarea&gt;</code>,<code>&lt;input&gt;</code></p><ul><li>内容外观不受页面上的css的影响</li><li>有自己的尺寸</li><li>在很多css属性上有自己的一套表现规则</li></ul><h3 id="替换元素的默认的display值"><a href="#替换元素的默认的display值" class="headerlink" title="替换元素的默认的display值"></a>替换元素的默认的display值</h3><p>所有的替换元素都是内联水平元素。替换元素的display值对于其尺寸计算规则无影响。</p><h3 id="替换元素的尺寸计算规则"><a href="#替换元素的尺寸计算规则" class="headerlink" title="替换元素的尺寸计算规则"></a>替换元素的尺寸计算规则</h3><p>替换元素的尺寸：固有尺寸、HTML尺寸、CSS尺寸</p><ul><li>如果没有CSS尺寸和HTML尺寸则使用固有尺寸作为最终的宽高</li><li>如果没有CSS尺寸则使用HTML尺寸</li><li>如果存在CSS尺寸，则最终尺寸由CSS属性决定</li><li>如果“固有尺寸”含有固有的宽高比例，同时仅设置了宽度或者仅设置了高度，则元素依然按照固有的宽高比例显示。</li><li>如果上面的条件都不符合，则最终宽度表现为300像素，高度为150像素。宽高比2:1。</li><li>内联替换元素和块级替换元素使用上面同一套尺寸计算规则。</li></ul><h3 id="替换元素和非替换元素的距离"><a href="#替换元素和非替换元素的距离" class="headerlink" title="替换元素和非替换元素的距离"></a>替换元素和非替换元素的距离</h3><ul><li><p>替换元素如img去掉src属性则是普通非替换元素。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">img &#123;</span></span><br><span class="line"><span class="undefined">display: block;</span></span><br><span class="line"><span class="css"><span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#eee</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- alt为任意值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"1"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此时img的宽度100%自适应父级容器  </p></li><li><p>非替换元素和替换元素只隔了一个CSScontent属性</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">h1 &#123;</span><br><span class="line">content: url(../th.jpg);</span><br><span class="line">width: 50px;</span><br><span class="line">height:50px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">&lt;!-- 普通元素content --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>图片<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此时h1就是一个50*50的图片</p></li></ul><h2 id="4-2-温和的padding属性"><a href="#4-2-温和的padding属性" class="headerlink" title="4.2 温和的padding属性"></a>4.2 温和的padding属性</h2><h3 id="4-2-1-padding与元素尺寸"><a href="#4-2-1-padding与元素尺寸" class="headerlink" title="4.2.1 padding与元素尺寸"></a>4.2.1 padding与元素尺寸</h3><p>内联元素的padding在垂直方向同样会影响布局。垂直方向会发生层叠。利用这一特点可以优雅的增加点击区域同时对现有布局无任何影响。</p><h3 id="4-2-2-padding的百分比值"><a href="#4-2-2-padding的百分比值" class="headerlink" title="4.2.2 padding的百分比值"></a>4.2.2 padding的百分比值</h3><p>padding百分比值无论是水平方向还是垂直方向均是相对于宽度来计算。 实际使用实例可以做自适应的等比矩形。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.img-wrapper</span> &#123;</span></span><br><span class="line"><span class="undefined">        position: relative;</span></span><br><span class="line"><span class="undefined">        padding: 50%; //实现正方形</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.img-wrapper</span> &gt; <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="undefined">        position: absolute;</span></span><br><span class="line"><span class="undefined">        width: 100%;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">left</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">top</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"img-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../th.jpg"</span> <span class="attr">alt</span>=<span class="string">"1"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>内联元素的padding</p><ul><li>padding相对宽度计算</li><li>默认的高度的宽度细节有差异</li><li>padding 会断行</li></ul><h2 id="4-3-激进的margin属性"><a href="#4-3-激进的margin属性" class="headerlink" title="4.3 激进的margin属性"></a>4.3 激进的margin属性</h2><h3 id="4-3-1-margin与元素尺寸以及相关布局"><a href="#4-3-1-margin与元素尺寸以及相关布局" class="headerlink" title="4.3.1 margin与元素尺寸以及相关布局"></a>4.3.1 margin与元素尺寸以及相关布局</h3><ol><li>margin 与元素的内部尺寸</li></ol><p>marign改变元素的可视尺寸与padding相反。对于paddding，元素设定了width属性或者保持<strong>包裹性</strong>的时候，会改变元素可视尺寸。而margin则无视之，只有当元素是“充分利用可用空间”状态的时候，margin才可以改变元素的可视尺寸。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.father</span> &#123;</span></span><br><span class="line"><span class="css"><span class="selector-tag">padding</span><span class="selector-pseudo">:0</span> 10<span class="selector-tag">px</span> ;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.son</span> &#123;</span></span><br><span class="line"><span class="undefined">margin: 0 -10px;</span></span><br><span class="line"><span class="undefined">line-height: 20px;</span></span><br><span class="line"><span class="undefined">text-align: center;</span></span><br><span class="line"><span class="css"><span class="selector-tag">background-color</span>:<span class="selector-id">#e1e1e1</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- marigin 改变子级宽度 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span>barfoo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-3-4-深入理解CSS中的margin-auto"><a href="#4-3-4-深入理解CSS中的margin-auto" class="headerlink" title="4.3.4 深入理解CSS中的margin:auto"></a>4.3.4 深入理解CSS中的margin:auto</h3><p>触发<code>margin:auto</code>计算有个前提条件就是width或者height为auto时，元素是具有对应方向的自动填充特性。(比如块状元素的width默认100%继承父级，绝对定位元素的格式化宽度和高度)<br><code>marigin:auto</code>的填充规则  </p><ol><li>如果一侧定值,一侧auto,则auto为剩余空间。</li><li>如果两侧均是auto,则平分剩余空间。 </li></ol><p>针对第一条可以实现<strong>块状元素</strong>的左右对齐(而不是只有通过<code>float:left/right</code>)</p><h2 id="例子（利用content生成伪元素以及margin-auto实现常见布局）"><a href="#例子（利用content生成伪元素以及margin-auto实现常见布局）" class="headerlink" title="例子（利用content生成伪元素以及margin:auto实现常见布局）"></a>例子（利用content生成伪元素以及margin:auto实现常见布局）</h2><p><img src="http://okn6xxp76.bkt.clouddn.com/cssworld/cssworld1.png" alt=""><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.home-icon-item</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="undefined">        position: absolute;</span></span><br><span class="line"><span class="undefined">        display: inline-block;</span></span><br><span class="line"><span class="undefined">        content: '';</span></span><br><span class="line"><span class="undefined">        width: 50px;</span></span><br><span class="line"><span class="undefined">        height: 50px;</span></span><br><span class="line"><span class="undefined">        left: 0;</span></span><br><span class="line"><span class="undefined">        top: 0;</span></span><br><span class="line"><span class="undefined">        right: 0;</span></span><br><span class="line"><span class="undefined">        bottom: 0;</span></span><br><span class="line"><span class="undefined">        margin: auto;</span></span><br><span class="line"><span class="undefined">        border-radius: 50%;</span></span><br><span class="line"><span class="undefined">        z-index: -1;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"> </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>    </span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-icon-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-icon-item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>培训<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-icon-item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>会议<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-icon-item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>学员服务<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-icon-item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>资料下载<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="4-4功勋卓越的border属性"><a href="#4-4功勋卓越的border属性" class="headerlink" title="4.4功勋卓越的border属性"></a>4.4功勋卓越的border属性</h2><h3 id="4-4-3-border-color和color"><a href="#4-4-3-border-color和color" class="headerlink" title="4.4.3 border-color和color"></a>4.4.3 border-color和color</h3><p>border-color 有一个很重要也很实用的特性，就是“border-color默认颜色就是color色值”。根据这个特性可以做个简单的边框hover变色实例。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.border</span> &#123;</span></span><br><span class="line"><span class="undefined">        position: relative; </span></span><br><span class="line"><span class="undefined">        width: 80px;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">height</span><span class="selector-pseudo">:80px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border</span><span class="selector-pseudo">:2px</span> <span class="selector-tag">dashed</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#e3e3e3</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.border</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span><span class="selector-pseudo">:red</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.border</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="undefined">        position: absolute;</span></span><br><span class="line"><span class="undefined">        display: block;</span></span><br><span class="line"><span class="undefined">        content: '';</span></span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:40px</span>;</span></span><br><span class="line"><span class="undefined">        height: 40px;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border-top</span><span class="selector-pseudo">:6px</span> <span class="selector-tag">solid</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">top</span><span class="selector-pseudo">:40px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">left</span><span class="selector-pseudo">:40px</span>;</span></span><br><span class="line"><span class="undefined">        margin-top: -3px;</span></span><br><span class="line"><span class="undefined">        margin-left: -20px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.border</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="undefined">        position: absolute;</span></span><br><span class="line"><span class="undefined">        display: block;</span></span><br><span class="line"><span class="undefined">        content: '';</span></span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:40px</span>;</span></span><br><span class="line"><span class="undefined">        height: 40px;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">top</span><span class="selector-pseudo">:40px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">left</span><span class="selector-pseudo">:40px</span>;</span></span><br><span class="line"><span class="undefined">        margin-top: -20px;</span></span><br><span class="line"><span class="undefined">        margin-left: -3px;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border-left</span><span class="selector-pseudo">:6px</span> <span class="selector-tag">solid</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- border属性缺省 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"border"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="例子（利用border和margin实现等分布局）"><a href="#例子（利用border和margin实现等分布局）" class="headerlink" title="例子（利用border和margin实现等分布局）"></a>例子（利用border和margin实现等分布局）</h2><p><img src="http://okn6xxp76.bkt.clouddn.com/cssworld/margin1.png" alt=""></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.bg</span> &#123;</span></span><br><span class="line"><span class="undefined">        padding: 15px  30px;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>: <span class="selector-id">#e1e1e1</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.ul-wrapper</span> &#123;</span></span><br><span class="line"><span class="undefined">        padding-left: 0;</span></span><br><span class="line"><span class="undefined">        margin-right: -15px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.ul-wrapper</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="undefined">        display: block;</span></span><br><span class="line"><span class="undefined">        content: '';</span></span><br><span class="line"><span class="undefined">        clear: both;</span></span><br><span class="line"><span class="undefined">    &#125; </span></span><br><span class="line"><span class="css">   <span class="selector-class">.li-item</span> &#123;</span></span><br><span class="line"><span class="undefined">       float: left;</span></span><br><span class="line"><span class="css">       <span class="selector-tag">width</span><span class="selector-pseudo">:25</span>% ;</span></span><br><span class="line"><span class="undefined">       box-sizing: border-box;</span></span><br><span class="line"><span class="undefined">       border-right: 15px solid transparent;</span></span><br><span class="line"><span class="css">       <span class="selector-tag">list-style-type</span><span class="selector-pseudo">:none</span>;</span></span><br><span class="line"><span class="css">       <span class="selector-tag">background-color</span>:  <span class="selector-id">#8BC34A</span>;</span></span><br><span class="line"><span class="undefined">       background-clip: content-box; //content-box可以减少嵌套</span></span><br><span class="line"><span class="undefined">       height: 150px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- margin 等分布局 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> &gt;</span>管理中心<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"ul-wrapper"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"li-item"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"li-item"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"li-item"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"li-item"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="两种等高布局"><a href="#两种等高布局" class="headerlink" title="两种等高布局"></a>两种等高布局</h2><ul><li>border</li><li>margin + padding</li></ul><p><img src="http://okn6xxp76.bkt.clouddn.com/cssworld/equalHeight1.png" alt=""></p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.border-box</span> &#123;</span></span><br><span class="line"><span class="undefined">    margin: 10px 0;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-left</span><span class="selector-pseudo">:150px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c7c7c7</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span>;</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="comment">/* 此处不能用overflow:hidden清除浮动否则左浮动的导航列表元素就会被隐藏掉 */</span></span></span><br><span class="line"><span class="css"><span class="selector-class">.border-box</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="undefined">    display: block;</span></span><br><span class="line"><span class="undefined">    content: '';</span></span><br><span class="line"><span class="undefined">    clear: both;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.border-box</span> &gt; <span class="selector-tag">nav</span> &#123;</span></span><br><span class="line"><span class="undefined">    width: 150px;</span></span><br><span class="line"><span class="undefined">    margin-left: -150px;</span></span><br><span class="line"><span class="undefined">    float: left;</span></span><br><span class="line"><span class="undefined">    text-align: center;</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- border等高布局--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"border-box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>导航1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>导航2<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h5</span>&gt;</span>模块1<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h5</span>&gt;</span>模块2<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h5</span>&gt;</span>模块3<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p> <img src="http://okn6xxp76.bkt.clouddn.com/cssworld/equalHeight2.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.margin-box</span> &#123;</span></span><br><span class="line"><span class="undefined">        overflow: hidden;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.column-left</span> ,<span class="selector-class">.column-right</span> &#123;</span></span><br><span class="line"><span class="undefined">        width: 50%;</span></span><br><span class="line"><span class="undefined">        float: left;</span></span><br><span class="line"><span class="undefined">        padding-bottom: 9999px;</span></span><br><span class="line"><span class="undefined">        margin-bottom: -9999px;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.column-left</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>: <span class="selector-id">#c7c7c7</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.column-right</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- margin + padding 等高布局 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"margin-box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-left"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>导航1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>导航2<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-right"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h4</span>&gt;</span>模块1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;了解content/padding/margin&lt;/p&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://liuchao0704.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>3、流、元素、基本尺寸</title>
    <link href="https://liuchao0704.github.io/2018/05/06/cssworld01/"/>
    <id>https://liuchao0704.github.io/2018/05/06/cssworld01/</id>
    <published>2018-05-06T05:18:25.000Z</published>
    <updated>2018-07-21T05:23:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>认识各种盒子以及width/height作用细节</p><a id="more"></a><h2 id="3-1-块级盒子（认识各种盒子）"><a href="#3-1-块级盒子（认识各种盒子）" class="headerlink" title="3.1 块级盒子（认识各种盒子）"></a>3.1 块级盒子（认识各种盒子）</h2><p>根据整个第三章第四章以及第五章的内容我把盒子模型之间的关系画了一个总的示意图。 </p><p><img src="http://okn6xxp76.bkt.clouddn.com/cssworld/box1.jpg" alt=""></p><h2 id="3-2-width-height-作用的具体细节"><a href="#3-2-width-height-作用的具体细节" class="headerlink" title="3.2 width/height 作用的具体细节"></a>3.2 width/height 作用的具体细节</h2><h3 id="3-2-1-width-auto属性"><a href="#3-2-1-width-auto属性" class="headerlink" title="3.2.1 width:auto属性"></a>3.2.1 width:auto属性</h3><ul><li><p>充分利用可用空间 <code>&lt;div</code>&gt; ,<code>&lt;p&gt;</code>这些元素默认宽度100%充满父级 （外部尺寸）</p></li><li><p>收缩与包裹性  （内部尺寸）</p></li><li><p>收缩到最小 （内部尺寸）</p></li><li><p>超出容器限制 （内部尺寸）</p></li></ul><h3 id="“外部尺寸”与“内部尺寸”"><a href="#“外部尺寸”与“内部尺寸”" class="headerlink" title="“外部尺寸”与“内部尺寸”"></a>“外部尺寸”与“内部尺寸”</h3><p>   外部尺寸：宽度由外部元素决定<br>   内部尺寸：宽度由内部元素决定 如果一个元素里面没有内容宽度为0 那么这个元素应用的就是“内部尺寸”</p><h3 id="外部尺寸与流体特性"><a href="#外部尺寸与流体特性" class="headerlink" title="外部尺寸与流体特性"></a>外部尺寸与流体特性</h3><ol><li><p>正常流宽度<br>在页面中随便扔一个<code>&lt;div&gt;</code>元素，其尺寸表现就会和这水流一样铺满容器，这就是<code>block</code>容器的流特性。</p></li><li><p>格式化宽度<br>格式化宽度仅出现在“绝对定位模型”中，也就是出现在<code>position:absolute</code>，<code>position:fixed</code>中。<strong>一般来说</strong>绝对定位元素的宽度是包裹性的，由内部元素决定。但是对于<strong>非替换元素</strong>当left/top 或者top/bottom对立方的属性值同时存在的时候，元素的宽度表现为“格式化宽度”，其宽度大小相对于最近的具有定特性的祖先元素计算。“格式化宽度”具有完全的流体性，也就是margin、border、padding和content内容区域同样会自动分配水平（垂直）空间。</p></li></ol><h3 id="内部尺寸与流体特性"><a href="#内部尺寸与流体特性" class="headerlink" title="内部尺寸与流体特性"></a>内部尺寸与流体特性</h3><ol><li><p>包裹性<br>典型例子，按钮元素<code>button</code>具体表现为按钮文字越多宽度越宽。但是文字足够多，则会在容器的宽度处自动换行。PS按钮元素的最大宽度为240px。除了inline-block元素，<strong>浮动元素</strong>以及<strong>绝对定位元素</strong>都具有包裹性。</p></li><li><p>首选最小宽度</p></li><li><p>最大宽度<br>实际等同于“包裹性”元素设置white-space:nowrap声明后的宽度。如果内部没有块级元素或者块级元素没有设定宽度值，则“最大宽度”实际上是最大的连续内联盒子的宽度</p></li></ol><h3 id="3-2-2-width值作用的具体细节"><a href="#3-2-2-width值作用的具体细节" class="headerlink" title="3.2.2 width值作用的具体细节"></a>3.2.2 width值作用的具体细节</h3><p> width作用在content box上</p><h3 id="3-2-3-CSS流体布局下的宽度分离原则"><a href="#3-2-3-CSS流体布局下的宽度分离原则" class="headerlink" title="3.2.3 CSS流体布局下的宽度分离原则"></a>3.2.3 CSS流体布局下的宽度分离原则</h3><p> 不在同一层标签上设置width,padding。 width设置在父级标签上，子级标签设置padding,border属性。子级自适应父级宽度。</p><h3 id="3-2-4-改变width作用细节的box-sizing"><a href="#3-2-4-改变width作用细节的box-sizing" class="headerlink" title="3.2.4 改变width作用细节的box-sizing"></a>3.2.4 改变width作用细节的box-sizing</h3><p> box-sizing被发明的初衷更大的可能是解决替换元素宽度自适应问题。原因替换元素的尺寸由内部元素决定对于其设置display属性是inline还是block,替换元素的宽度都不会受其影响。当替换元素设置<code>display:block</code>是无法让元素100%自适应父级。所以让textareawidth100%自适应父级，同时保留border,padding属性只能通过<code>box-sizing:border-box</code>来解决</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input ,textarea, img, video, object &#123;</span><br><span class="line">           box-sizing: border-box</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-5-height-auto"><a href="#3-2-5-height-auto" class="headerlink" title="3.2.5 height:auto"></a>3.2.5 height:auto</h3><p><code>height:auto</code>也有外部尺寸特性，仅存在于绝对定位模型中，也就是“格式化高度”。</p><h3 id="3-2-6-height-100"><a href="#3-2-6-height-100" class="headerlink" title="3.2.6 height: 100%"></a>3.2.6 height: 100%</h3><p>如何让元素支持height:100%?  </p><ol><li><p>设定显示的高度</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>使用绝对定位<br>绝对定位元素百分比计算和非绝对定位元素的百分比计算是有区别的，区别在于绝对定位的宽高百分比计算是相对于padding box</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="3-3-CSSmin-width-max-width和min-height-max-height"><a href="#3-3-CSSmin-width-max-width和min-height-max-height" class="headerlink" title="3.3 CSSmin-width/max-width和min-height/max-height"></a>3.3 CSSmin-width/max-width和min-height/max-height</h2><h3 id="3-3-2-与众不同的初始值"><a href="#3-3-2-与众不同的初始值" class="headerlink" title="3.3.2 与众不同的初始值"></a>3.3.2 与众不同的初始值</h3><p>min-width/min-height的初始值为auto<br>max-width/max-height的初始值为none (思考为什么max的初始值为none 而不是auto)</p><h3 id="3-3-3-超越-important-超越最大"><a href="#3-3-3-超越-important-超越最大" class="headerlink" title="3.3.3 超越!important 超越最大"></a>3.3.3 超越!important 超越最大</h3><p>简单的来说min和max的权重比!important大。 如果min和max设置起冲突的时候。min-width 会覆盖max-width。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;认识各种盒子以及width/height作用细节&lt;/p&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://liuchao0704.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>css总结 | 读css世界笔记</title>
    <link href="https://liuchao0704.github.io/2018/04/16/css3/"/>
    <id>https://liuchao0704.github.io/2018/04/16/css3/</id>
    <published>2018-04-16T07:04:25.000Z</published>
    <updated>2018-07-22T04:21:40.656Z</updated>
    
    <content type="html"><![CDATA[<p>2018年2月份入手了《css世界》一书。打算过年内看完，但是翻阅之后决定作为工具书多次阅读并记笔记总结之，加深自己对css的理解。随着页面越来越个性化，我发现写一段易修改，可维护，代码量少的css相当重要。</p><a id="more"></a><h2 id="3-、流、元素、基本尺寸"><a href="#3-、流、元素、基本尺寸" class="headerlink" title="3 、流、元素、基本尺寸"></a><a href="https://liuchao0704.github.io/2018/05/06/cssworld01/">3 、流、元素、基本尺寸</a></h2><h2 id="4、盒尺寸四大家族"><a href="#4、盒尺寸四大家族" class="headerlink" title="4、盒尺寸四大家族 "></a><a href="https://liuchao0704.github.io/2018/05/06/cssworld02/">4、盒尺寸四大家族 </a></h2><h2 id="5、内联元素与流"><a href="#5、内联元素与流" class="headerlink" title="5、内联元素与流 "></a><a href="https://liuchao0704.github.io/2018/05/06/cssworld03/">5、内联元素与流 </a></h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2018年2月份入手了《css世界》一书。打算过年内看完，但是翻阅之后决定作为工具书多次阅读并记笔记总结之，加深自己对css的理解。随着页面越来越个性化，我发现写一段易修改，可维护，代码量少的css相当重要。&lt;/p&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://liuchao0704.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>游泳小记</title>
    <link href="https://liuchao0704.github.io/2018/04/09/swim/"/>
    <id>https://liuchao0704.github.io/2018/04/09/swim/</id>
    <published>2018-04-09T12:42:16.000Z</published>
    <updated>2018-07-21T05:56:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>觉得为时已晚的时候,恰恰是最早的时候</p><a id="more"></a><h2 id="Day1-（2018-04-09）"><a href="#Day1-（2018-04-09）" class="headerlink" title="Day1 （2018.04.09）"></a>Day1 （2018.04.09）</h2><p>一共十节课 今天是第一节。课时一个小时，主要学会了漂浮在水面、换气、手臂动作。刚开始入水我是恐惧的，不敢手臂远离墙壁，自身腰部也很紧张，腿部很沉，下半身很沉，总是飘不起来。就算勉强漂浮在水中，身体也极度不稳定，整个人像风雨中飘摇的船只，左右摇晃不定，容易翻身。对于这种情况，教练教了两种动作，一个是在水中自主站立的动作，双腿的膝盖靠近胸部，手臂向下挥舞 ，人就顺势站立起来。还有一种是感觉你要翻身的时候 ，脚尖绷紧，膝盖打直，手臂张开角度越大越好，手臂打直 ，手指尖绷紧。然后整个人就不容易翻身了。掌握了以后，就不怕对水的恐惧了。 开心ing。 </p><h2 id="Day2-5-（2018-04-10-04-13）"><a href="#Day2-5-（2018-04-10-04-13）" class="headerlink" title="Day2-5 （2018.04.10-04.13）"></a>Day2-5 （2018.04.10-04.13）</h2><p>整个四节课就练习划手和蹬腿，其中蹬腿的用的时间很长，我刚开始练习的时候犯了很多错误。</p><ul><li>蹬腿必撅屁股</li><li>蹬腿身体滑行距离很小</li><li>蹬腿几次之后身体下半身越来越下沉 </li><li>蹬腿像慢动作</li></ul><p>首先蹬腿的时候 在小腿和脚后跟靠近屁股的同时，膝关节尽量打开 + 大腿不要太往池底靠，这样屁股就不会撅起来了。</p><p>蹬腿的时候 尽量保证身体的平稳性 不要操之过急，每次蹬腿完毕尽量让身体都稳定在水面中央 既不下沉的厉害，也不漂浮的厉害。</p><p>蹬腿要快要用力 </p><h2 id="Day6-（2018-04-15）"><a href="#Day6-（2018-04-15）" class="headerlink" title="Day6 （2018.04.15）"></a>Day6 （2018.04.15）</h2><p>今天蹬腿和划手有点感觉了，滑行的距离也出来了。明天可以练习一下综合了</p><h2 id="Day1N-2018-05-06"><a href="#Day1N-2018-05-06" class="headerlink" title="Day1N (2018.05.06)"></a>Day1N (2018.05.06)</h2><p>应该练习了有十几天，五一假期三天连续练习，能游一个来回，但是蹬腿的距离太短，以至于不停的蹬腿才能保持前进。初步判断是人未达到平行的状态就蹬腿，导致一部分前进的力量被分解为向上的力量。后期注意蹬腿时机。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;觉得为时已晚的时候,恰恰是最早的时候&lt;/p&gt;
    
    </summary>
    
    
      <category term="生活" scheme="https://liuchao0704.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="游泳" scheme="https://liuchao0704.github.io/tags/%E6%B8%B8%E6%B3%B3/"/>
    
  </entry>
  
  <entry>
    <title>个人简历</title>
    <link href="https://liuchao0704.github.io/2018/03/01/resume/"/>
    <id>https://liuchao0704.github.io/2018/03/01/resume/</id>
    <published>2018-03-01T13:45:43.000Z</published>
    <updated>2018-07-21T06:00:15.737Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://okn6xxp76.bkt.clouddn.com/resume/avatar2.png" alt=""></p><a id="more"></a> <table><thead><tr><th>刘超</th><th>程序媛</th><th>南京信息工程大学</th></tr></thead><tbody><tr><td>本科</td><td>电子信息工程</td><td><a href="mailto:2820501417@qq.com" target="_blank" rel="noopener">2820501417@qq.com</a></td></tr><tr><td>无锡</td><td>1991-07</td><td><a href="https://liuchao0704.github.io/">https://liuchao0704.github.io/</a></td></tr></tbody></table><p>2016至今我在无锡乐伏能源有限公司从事前端开发。乐伏能源是一家光伏监控与运维解决方案的提供商。我有幸在公司创业之初就加入。经历了从无到有，初代产品研发以及后期功能的升级和迭代。主要为公司开发PC端网页系统以及移动端webApp。</p><h2 id="Web定制版"><a href="#Web定制版" class="headerlink" title="Web定制版"></a>Web定制版</h2><h3 id="中国航天智慧能源管理平台-（Aerospace-smart-energy-management-system-）"><a href="#中国航天智慧能源管理平台-（Aerospace-smart-energy-management-system-）" class="headerlink" title="中国航天智慧能源管理平台 （Aerospace smart energy  management system ）"></a>中国航天智慧能源管理平台 （Aerospace smart energy  management system ）</h3><p>为中国航天定制开发的大屏监控系统（适合2560x1440以上分辨率）于2018年8月上线。<br>本人负责该项目的前期沟通/需求整理/界面风格确认工作。1、分析客户基本需求：资产管理 &amp; 能量管理。2、结合公司现有系统功能提炼并改造。为中国航天开发了去菜单化一键查看数据流程。满足了非专业人士也能便捷操作能源站系统的需求。</p><h2 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a>移动端</h2><h3 id="乐伏管家app"><a href="#乐伏管家app" class="headerlink" title="乐伏管家app"></a>乐伏管家app</h3><p>该App可以同时满足个人业主和大型安装商对电站运营情况的查询和运维需求。2018年3月上线，累计下载量10000+。<br>本人负责该项目产品需求整理和前端开发工作。采用AngularJs + betterscroll。betterscroll是一款优秀的滚动插件，它可以优化WebApp的滚动体验，使webApp中超长页更接近原生App的滚动效果。<br>视觉层面：根据电站的天气情况个性化设置页面，新增晴天/阴天/多云/雨/雪/夜间模式并动态更新页面，带来不一样的视觉体验<br>数据存储：利用AngularJs  的<code>$rootscope</code>作为简易版本的根数据管理，在<code>$rootscope</code>创建根对象用于存储多次复用并且实时更新的数据。</p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/%E4%B9%90%E4%BC%8F%E7%AE%A1%E5%AE%B6app%E5%90%883.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/%E4%B9%90%E4%BC%8F%E7%AE%A1%E5%AE%B6%E5%90%882.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/%E4%B9%90%E4%BC%8F%E7%AE%A1%E5%AE%B6%E5%90%884.jpg" alt=""></p><h3 id="乐伏运维app"><a href="#乐伏运维app" class="headerlink" title="乐伏运维app"></a>乐伏运维app</h3><p>该App可以满足终端业主及运维人员对于电站运维的需求。2017年9月上线，累计下载量1000+。<br>本人负责该项目的前端开发工作。针对第一版的乐伏监控App 的一些问题。我决定将此App开发成webApp。AngularJs框架满足了App的路由切换和多角色分配。优点如下：</p><ul><li>采用ajax与后台交互数据</li><li>版本合一 android 和 ios 使用一个版本 不需要维护多版本</li><li>路由切换更加自然 更接近原生app</li></ul><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/%E4%B9%90%E4%BC%8F%E8%BF%90%E7%BB%B4app%E5%90%88.jpg" alt=""></p><h2 id="PC端"><a href="#PC端" class="headerlink" title="PC端"></a>PC端</h2><h3 id="乐伏运维系统网页版"><a href="#乐伏运维系统网页版" class="headerlink" title="乐伏运维系统网页版"></a>乐伏运维系统网页版</h3><p>乐伏电站运维系统网页版是一款为终端业主+运维人员+电站集成商打造的电站运维系统 。于2017年8月上线。  </p><p>本人负责该项目的前端开发工作。乐伏运维系统采用AngualrJs框架将三种不同的电站管理角色紧密联系到一起，便于及时排除和解决电站的故障问题。该软件的主要开发功能如下：</p><ul><li>不同用户角色不同权限的页面展示</li><li>集成简易的物料管理系统</li><li>运单不同状态下的可操作流程、功能</li></ul><p>目前在电站运维系统的注册的电站已经达到6000+，平均每日完成电站运维任务数达到100+。</p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/P%25LH@1EVQR_NTPA$@14DO$H.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/3W14R%7D081LVN_41G8~KVI5Y.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/534@%60V8556CBTWM%7DQHN%601NT.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/H$%60WG%5BOD4WTN$7G%7B78%29P~1I.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/W%29CZLRG%5B%5B%7BW%7B$26JVN15833.jpg" alt=""></p><h4 id="乐伏电站设计系统网页版"><a href="#乐伏电站设计系统网页版" class="headerlink" title="乐伏电站设计系统网页版"></a>乐伏电站设计系统网页版</h4><p>乐伏电站设计系统是一款实用的电站设计系统。于2017年3月份上线。<br>本人负责该项目的前端开发工作。乐伏电站设计系统采用AngualrJs框架。该软件方便用户进行电站预估计算及设备选型。用户无需要专业的电站知识即可进行一键式计算收益和组件、设备匹配，使电站获得最佳收益。</p><ul><li>高德地图支持用户快速自定义电站位置 </li><li>获取该地理位置的辐照量和最佳倾斜角</li><li>用户自定义组件方案设计保存</li><li>打印自定义方案</li></ul><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/%5B5C5%29H%7BD$%5BP@XXQ%29%28SFJ%5D%7B6.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/NB8%60O5%5BF4K1_S%5DL%7DXHKR20A.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/I7%25D~7@KS3U89~C54UDYXH4.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/BH~%25J%5B7DH%5B%7DDXE%28@K$G4%7D8S.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/Y%25B9@QO_$7V$9N%28P%7DBLF6ZB.jpg" alt=""></p><h4 id="乐伏电站监控系统网页版"><a href="#乐伏电站监控系统网页版" class="headerlink" title="乐伏电站监控系统网页版"></a>乐伏电站监控系统网页版</h4><p>乐伏监控系统网页版是一款功能丰富的电站监控系统，于2017年1月上线 。<br>本人负责该项目的前端开发工作。乐伏电站监控系统采用AngualrJs框架。</p><p>angularJS 负责数据双向绑定</p><ul><li>ui-router + animate.css 负责SPA(单页面应用)路由切换以及切换效果</li><li>ng-repeat  列表的分页渲染</li><li>angular 内置form validate 配合正则表达式验证表单（用户注册/登录/电站个添加/设备添加）</li></ul><p>bootstrap datepicker + highchart  图表展示</p><ul><li>bootstrap datepicker 支持单日期的自由选择以及任意 时间段选择 </li><li>highchart插件中的柱状图、折线图、 饼状图 、仪表图等形式 为电站/设备发电量、功率等数据展示提供了直观的视觉效果。</li><li>bootstrap 栅格系统快速搭建后台管理系统页面</li></ul><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/D%28~U1%5B%7BHJJJZX~%7B%607EIDIK8.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/3K3%29%60%60M%7D%7BUF3VE%29N%7BEG%60_C2.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/resume/%5B@K%29FUG52%25PND0VL%28%5B@6Z11.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://okn6xxp76.bkt.clouddn.com/resume/avatar2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="简历" scheme="https://liuchao0704.github.io/tags/%E7%AE%80%E5%8E%86/"/>
    
  </entry>
  
  <entry>
    <title>常用正则表达式整理</title>
    <link href="https://liuchao0704.github.io/2018/02/01/reg/"/>
    <id>https://liuchao0704.github.io/2018/02/01/reg/</id>
    <published>2018-02-01T13:45:43.000Z</published>
    <updated>2018-07-21T05:57:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>将常用的正则表达式整理如下。</p><a id="more"></a> <h1 id="常用正则表达式整理"><a href="#常用正则表达式整理" class="headerlink" title="常用正则表达式整理"></a>常用正则表达式整理</h1><h2 id="正则元字符"><a href="#正则元字符" class="headerlink" title="正则元字符"></a>正则元字符</h2><table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td>*</td><td>匹配前面的字表达式零次或者多次等价于{0,}</td></tr><tr><td>+</td><td>匹配前面的字表达式一次或者多次等价于{1,}</td></tr><tr><td>?</td><td>匹配前面的字表达式零次或者一次等价于{0,1}</td></tr></tbody></table><h2 id="整数-不限制正负"><a href="#整数-不限制正负" class="headerlink" title="整数(不限制正负)"></a>整数(不限制正负)</h2><pre><code>/^-?\d+$/; // 不限制长度</code></pre><h2 id="整数-gt-0"><a href="#整数-gt-0" class="headerlink" title="整数(&gt; 0)"></a>整数(&gt; 0)</h2><pre><code>/^[1-9]\d*$/; // 不限制长度/^[1-9]\d{0,5}$/;// 限制长度</code></pre><h2 id="整数-gt-0-amp-amp-lt-100"><a href="#整数-gt-0-amp-amp-lt-100" class="headerlink" title="整数(&gt; 0 &amp;&amp; &lt;= 100)"></a>整数(&gt; 0 &amp;&amp; &lt;= 100)</h2><pre><code>/^(100|([1-9]{1}\d?))$/</code></pre><p><img src="http://okn6xxp76.bkt.clouddn.com/image/reg/reg2.png" alt=""></p><h2 id="浮点型-gt-0-保留2位小数"><a href="#浮点型-gt-0-保留2位小数" class="headerlink" title="浮点型(&gt; 0 保留2位小数)"></a>浮点型(&gt; 0 保留2位小数)</h2><pre><code>/^(([1-9]{1})(\.\d{1,2})?|(0(\.\d{0,1}[1-9])))$/</code></pre><p><img src="http://okn6xxp76.bkt.clouddn.com/image/reg/reg0.png" alt=""></p><pre><code>/^(([1-9]{1}[0-9]{0,5})(\.\d{1,2})?|(0(\.\d{0,1}[1-9])))$/ </code></pre><h2 id="浮点型-gt-0-保留2位小数-1"><a href="#浮点型-gt-0-保留2位小数-1" class="headerlink" title="浮点型(&gt;= 0 保留2位小数)"></a>浮点型(&gt;= 0 保留2位小数)</h2><pre><code>/^(([1-9]{1})(\.\d{1,2})?|(0(\.\d{0,1}[1-9])?))$/</code></pre><p><img src="http://okn6xxp76.bkt.clouddn.com/image/reg/reg1.png" alt=""></p><h2 id="字符串开头不能空格-中间可以是空格-数字-字母-中文-非特殊字符结尾"><a href="#字符串开头不能空格-中间可以是空格-数字-字母-中文-非特殊字符结尾" class="headerlink" title="字符串开头不能空格 中间可以是空格/数字/字母/中文/非特殊字符结尾"></a>字符串开头不能空格 中间可以是空格/数字/字母/中文/非特殊字符结尾</h2><pre><code>/^[\w\u4e00-\u9fa5]{1}[\s\w\u4e00-\u9fa5]{0,8}$/</code></pre><p><img src="http://okn6xxp76.bkt.clouddn.com/image/reg/reg3.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;将常用的正则表达式整理如下。&lt;/p&gt;
    
    </summary>
    
    
      <category term="reg" scheme="https://liuchao0704.github.io/tags/reg/"/>
    
  </entry>
  
  <entry>
    <title>学以致用系列之js array</title>
    <link href="https://liuchao0704.github.io/2018/01/28/jsArray/"/>
    <id>https://liuchao0704.github.io/2018/01/28/jsArray/</id>
    <published>2018-01-28T10:46:46.000Z</published>
    <updated>2018-07-21T05:56:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近学react,对于数据操作特别是数组的操作让我有了新的认识,现在将数组的一些方法记录下来,并且改造一下之前angular js checkbox全选和选不选的js。希望自己写出更加优雅的代码(少用if，else)。</p><a id="more"></a>  <h2 id="一行代码搞定Array的深拷贝"><a href="#一行代码搞定Array的深拷贝" class="headerlink" title="一行代码搞定Array的深拷贝"></a>一行代码搞定Array的深拷贝</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">var</span> <span class="class"><span class="keyword">data</span> = <span class="keyword">data</span>.conact(); // js contacat() 方法会返回一个新的数组。tips：原数组中如有对象,还是不能做到完全的深拷贝。</span></span><br></pre></td></tr></table></figure><h2 id="数组的过滤-filter"><a href="#数组的过滤-filter" class="headerlink" title="数组的过滤 filter()"></a>数组的过滤 filter()</h2><p>原来我操作的数组的思路是循环数组找到index,然后用数组的splice(index, 1)删除。其实就是filter()应该干的事情。</p><h2 id="改写Angular-JS动态控制多选框全选与全不选并且打印选中的值"><a href="#改写Angular-JS动态控制多选框全选与全不选并且打印选中的值" class="headerlink" title="改写Angular JS动态控制多选框全选与全不选并且打印选中的值]"></a>改写Angular JS动态控制多选框全选与全不选并且打印选中的值]</h2><p><a href="https://liuchao0704.github.io/2017/04/10/multiselect/">点击查看</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">"angular-1.3.0.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> </span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp">&lt;body ng-app="myApp" ng-controller="vipApplyEditCtrl"&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;div&gt;  </span></span><br><span class="line"><span class="regexp">     &lt;input </span></span><br><span class="line"><span class="regexp">          type="checkbox" </span></span><br><span class="line"><span class="regexp">          name="all" </span></span><br><span class="line"><span class="regexp">          ng-model="all"</span></span><br><span class="line"><span class="regexp">          ng-change="toSelectAll(all)"&gt; 全选 </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;i&gt;&#123;&#123;all&#125;&#125;&lt;/i</span>&gt;</span><br><span class="line">    &lt;div ng-repeat=<span class="string">"color in colors"</span>&gt;  </span><br><span class="line">        &lt;input </span><br><span class="line">              type=<span class="string">"checkbox"</span> </span><br><span class="line">              ng-checked=<span class="string">"color.checked == true"</span>   </span><br><span class="line">              ng-click=<span class="string">"updateSelection(color)"</span> </span><br><span class="line">              /&gt;</span><br><span class="line">              &#123;&#123;color.name&#125;&#125;  </span><br><span class="line">    &lt;<span class="regexp">/div&gt;  </span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    Selected :&#123;&#123;selected&#125;&#125;</span><br><span class="line">&lt;<span class="regexp">/div&gt;  </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">var app = angular.module('myApp', []);</span></span><br><span class="line"><span class="regexp">app.controller("vipApplyEditCtrl", function($scope) &#123;  </span></span><br><span class="line"><span class="regexp">    $scope.formData = &#123;&#125;;</span></span><br><span class="line"><span class="regexp">    $scope.colors = [  </span></span><br><span class="line"><span class="regexp">        &#123;id : 1, name : 'black'&#125;,  </span></span><br><span class="line"><span class="regexp">        &#123;id : 2, name : 'red'&#125;,  </span></span><br><span class="line"><span class="regexp">        &#123;id : 3, name : 'blue'&#125;,  </span></span><br><span class="line"><span class="regexp">        &#123;id : 4, name : 'yellow'&#125;,  </span></span><br><span class="line"><span class="regexp">        &#123;id : 5, name : 'green'&#125;,  </span></span><br><span class="line"><span class="regexp">        &#123;id : 6, name : 'white'&#125;  </span></span><br><span class="line"><span class="regexp">    ] ;  </span></span><br><span class="line"><span class="regexp">      </span></span><br><span class="line"><span class="regexp">     $scope.selected = [] ;  /</span><span class="regexp">/ 存放新的已选数据 </span></span><br><span class="line"><span class="regexp">     $scope.updateSelection = function(obj)&#123;  </span></span><br><span class="line"><span class="regexp">        obj.checked = !obj.checked;</span></span><br><span class="line"><span class="regexp">        $scope.selected = [] ; </span></span><br><span class="line"><span class="regexp">         $scope.colors.forEach(function(item)&#123;</span></span><br><span class="line"><span class="regexp">            if(item.checked)&#123;</span></span><br><span class="line"><span class="regexp">                $scope.selected.push(item.id) ;</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">         $scope.colors.every(function(item)&#123;</span></span><br><span class="line"><span class="regexp">            return item.checked ;</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">    &#125;;</span></span><br><span class="line"><span class="regexp">     $scope.toSelectAll = function(flag)&#123;</span></span><br><span class="line"><span class="regexp">        $scope.selected = [];</span></span><br><span class="line"><span class="regexp">        $scope.colors.forEach(function(i)&#123;</span></span><br><span class="line"><span class="regexp">                 i.checked = flag;</span></span><br><span class="line"><span class="regexp">                 if(flag)$scope.selected.push(i.id);</span></span><br><span class="line"><span class="regexp">             &#125;)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;);  </span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近学react,对于数据操作特别是数组的操作让我有了新的认识,现在将数组的一些方法记录下来,并且改造一下之前angular js checkbox全选和选不选的js。希望自己写出更加优雅的代码(少用if，else)。&lt;/p&gt;
    
    </summary>
    
    
      <category term="js" scheme="https://liuchao0704.github.io/tags/js/"/>
    
      <category term="array" scheme="https://liuchao0704.github.io/tags/array/"/>
    
  </entry>
  
  <entry>
    <title>Sticky footer 布局</title>
    <link href="https://liuchao0704.github.io/2018/01/06/stickyfooter/"/>
    <id>https://liuchao0704.github.io/2018/01/06/stickyfooter/</id>
    <published>2018-01-06T05:18:37.000Z</published>
    <updated>2018-07-21T05:56:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>css3的一种经典布局。footer紧紧粘在底部，当页面内容不足一页的时候，footer在最底部。当页面内容超过一页，footer自动在底部。</p><a id="more"></a><h1 id="sticky-footer-布局"><a href="#sticky-footer-布局" class="headerlink" title="sticky footer 布局"></a><a href="http://okn6xxp76.bkt.clouddn.com/stickyfooter/sticky-footer.jpg" target="_blank" rel="noopener">sticky footer 布局</a></h1><h2 id="sticky-footer布局思路1"><a href="#sticky-footer布局思路1" class="headerlink" title="sticky-footer布局思路1"></a>sticky-footer布局思路1</h2><p>父元素包裹内容，并给他一个内边距使其等于底部的高度，防止内容覆盖到底部的内容。底部元素有个负的margin值</p><h3 id="css3-代码"><a href="#css3-代码" class="headerlink" title="css3 代码"></a>css3 代码</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">    <span class="selector-tag">html</span>,</span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">        <span class="attribute">min-height</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">"."</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">clear</span>: both;</span><br><span class="line">        <span class="attribute">visibility</span>: hidden;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.content-inside</span> &#123;</span><br><span class="line">        <span class="attribute">padding-top</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">padding-right</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">padding-bottom</span>: <span class="number">50px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.content-inside</span>&gt;<span class="selector-tag">p</span> &#123;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.footer</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">        <span class="attribute">margin-top</span>: -<span class="number">50px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#00b3ee</span>;</span><br><span class="line">        <span class="attribute">text-align</span>: center;</span><br><span class="line">        <span class="attribute">color</span>: white;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="div布局"><a href="#div布局" class="headerlink" title="div布局"></a>div布局</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper clearfix"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-inside"</span> <span class="attr">id</span>=<span class="string">"div"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>content<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"addP()"</span>&gt;</span>点击添加文字<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> element = <span class="built_in">document</span>.getElementById(<span class="string">"div"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">addP</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> para = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> node = <span class="built_in">document</span>.createTextNode(<span class="string">'这是一个新段落'</span>);</span></span><br><span class="line"><span class="undefined">        para.appendChild(node);</span></span><br><span class="line"><span class="undefined">        element.appendChild(para);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="sticky-footer-布局思路2"><a href="#sticky-footer-布局思路2" class="headerlink" title="sticky footer 布局思路2"></a>sticky footer 布局思路2</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>这里是主要内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>这是页脚区块<span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;css3的一种经典布局。footer紧紧粘在底部，当页面内容不足一页的时候，footer在最底部。当页面内容超过一页，footer自动在底部。&lt;/p&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://liuchao0704.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>js 基本类型学习总结</title>
    <link href="https://liuchao0704.github.io/2017/12/31/js/"/>
    <id>https://liuchao0704.github.io/2017/12/31/js/</id>
    <published>2017-12-31T14:02:20.000Z</published>
    <updated>2018-07-21T05:55:58.000Z</updated>
    
    <content type="html"><![CDATA[<p> 看完js高级程序之后对js基本类型的学习和总结</p><a id="more"></a><h1 id="类型、值、变量"><a href="#类型、值、变量" class="headerlink" title="类型、值、变量"></a>类型、值、变量</h1><h4 id="JavaScript的数据类型分为类型：-基本类型（原始类型-和引用类型-对象类型"><a href="#JavaScript的数据类型分为类型：-基本类型（原始类型-和引用类型-对象类型" class="headerlink" title="JavaScript的数据类型分为类型： 基本类型（原始类型)和引用类型(对象类型)"></a>JavaScript的数据类型分为类型： 基本类型（原始类型)和引用类型(对象类型)</h4><ul><li>基本类型 Undefined,Null,Boolean,Number,String,Symbol (ECMAScript 6 新定义)</li><li>数据封装类对象：Object、Array、Boolean、Number 和 String</li><li>其他对象：Function、Arguments、Math、Date、RegExp、Error</li></ul><h4 id="不可改变的原始值和可变的对象引用"><a href="#不可改变的原始值和可变的对象引用" class="headerlink" title="不可改变的原始值和可变的对象引用"></a>不可改变的原始值和可变的对象引用</h4><ul><li>原始值是不可更改的，任何方法都无法更改一个原始值。字符串中所有的方法看上去返回了一个修改后的字符串，实际上返回的是一个新的字符串值</li></ul><h2 id="typeof判断数据类型"><a href="#typeof判断数据类型" class="headerlink" title="typeof判断数据类型"></a>typeof判断数据类型</h2><p>typeof操作符返回一个<strong>字符串</strong>指示未经计算的操作数的类型。</p><table><thead><tr><th>类型</th><th>结果   </th></tr></thead><tbody><tr><td>Undefined</td><td>“undefined”    </td></tr><tr><td>Null</td><td>“object” (见下方)     </td></tr><tr><td>Boolean</td><td>“boolean”     </td></tr><tr><td>Number</td><td>“number”   </td></tr><tr><td>String</td><td>“string”</td></tr><tr><td>Symbol (ECMAScript 6 新增)</td><td>“symbol”   </td></tr><tr><td>宿主对象(由JS环境提供)</td><td>Implementation-dependent  </td></tr><tr><td>函数对象 ( [[Call]] 在ECMA-262条款中实现了)</td><td>“function”</td></tr><tr><td>任何其他对象</td><td>“object”</td></tr></tbody></table><h3 id="typeof实例"><a href="#typeof实例" class="headerlink" title="typeof实例"></a>typeof实例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Numbers</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">37</span> === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="number">3.14</span> === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Math</span>.LN2 === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">Infinity</span> === <span class="string">'number'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span> === <span class="string">'number'</span>; <span class="comment">// 尽管NaN是"Not-A-Number"的缩写</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Number</span>(<span class="number">1</span>) === <span class="string">'number'</span>; <span class="comment">// 但不要使用这种形式!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Strings</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">""</span> === <span class="string">'string'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="string">"bla"</span> === <span class="string">'string'</span>;</span><br><span class="line"><span class="keyword">typeof</span> (<span class="keyword">typeof</span> <span class="number">1</span>) === <span class="string">'string'</span>; <span class="comment">// typeof总是返回一个字符串</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">String</span>(<span class="string">"abc"</span>) === <span class="string">'string'</span>; <span class="comment">// 但不要使用这种形式!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Booleans</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span> === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>) === <span class="string">'boolean'</span>; <span class="comment">// 但不要使用这种形式!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Symbols</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>() === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>(<span class="string">'foo'</span>) === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator === <span class="string">'symbol'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> === <span class="string">'undefined'</span>;</span><br><span class="line"><span class="keyword">typeof</span> declaredButUndefinedVariable === <span class="string">'undefined'</span>;</span><br><span class="line"><span class="keyword">typeof</span> undeclaredVariable === <span class="string">'undefined'</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// Objects</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;<span class="attr">a</span>:<span class="number">1</span>&#125; === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用Array.isArray 或者 Object.prototype.toString.call</span></span><br><span class="line"><span class="comment">// 区分数组,普通对象</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>] === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>() === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的容易令人迷惑，不要使用！</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>) === <span class="string">'object'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>) ==== <span class="string">'object'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"abc"</span>) === <span class="string">'object'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; === <span class="string">'function'</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span></span>&#123;&#125; === <span class="string">'function'</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Math</span>.sin === <span class="string">'function'</span>;</span><br></pre></td></tr></table></figure><h2 id="判断数组的几种方法"><a href="#判断数组的几种方法" class="headerlink" title="判断数组的几种方法"></a>判断数组的几种方法</h2><ul><li><p>typeof &amp;&amp; length</p></li><li><p>instanceof</p></li><li><p>Array.isArray() </p></li></ul><h3 id="typeof：数组有length属性，object没有"><a href="#typeof：数组有length属性，object没有" class="headerlink" title="typeof：数组有length属性，object没有"></a>typeof：数组有length属性，object没有</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="string">'name'</span>:<span class="string">'lee'</span> &#125;; <span class="comment">// 对象</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">'reg'</span>,<span class="string">'blue'</span>]; <span class="comment">// 数组</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">var</span> getDataType = <span class="function"><span class="keyword">function</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> o == <span class="string">'object'</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>( <span class="keyword">typeof</span> o.length == <span class="string">'number'</span> )&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'Array'</span>; </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'Object'</span>;    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'param is no object type'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">    </span><br><span class="line">alert( getDataType(o) );    <span class="comment">// Object</span></span><br><span class="line">alert( getDataType(a) );    <span class="comment">// Array</span></span><br><span class="line">alert( getDataType(<span class="number">1</span>) );    <span class="comment">// param is no object type</span></span><br><span class="line">alert( getDataType(<span class="literal">true</span>) ); <span class="comment">// param is no object type</span></span><br><span class="line">alert( getDataType(<span class="string">'a'</span>) );  <span class="comment">// param is no object type</span></span><br></pre></td></tr></table></figure><h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="string">'name'</span>:<span class="string">'lee'</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">'reg'</span>,<span class="string">'blue'</span>];</span><br><span class="line">    </span><br><span class="line">alert( a <span class="keyword">instanceof</span> <span class="built_in">Array</span> );  <span class="comment">// true</span></span><br><span class="line">alert( o <span class="keyword">instanceof</span> <span class="built_in">Array</span> );  <span class="comment">// false</span></span><br><span class="line">alert( a <span class="keyword">instanceof</span> <span class="built_in">Object</span> );  <span class="comment">// true</span></span><br><span class="line">alert( o <span class="keyword">instanceof</span> <span class="built_in">Object</span> );  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="instanceof-多个iframe下"><a href="#instanceof-多个iframe下" class="headerlink" title="instanceof 多个iframe下"></a>instanceof 多个iframe下</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line">xArray = <span class="built_in">window</span>.frames[<span class="built_in">window</span>.frames.length<span class="number">-1</span>].Array;</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> xArray(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// [1,2,3]</span></span><br><span class="line"><span class="comment">// Correctly checking for Array</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(arr);  <span class="comment">// true</span></span><br><span class="line"><span class="comment">// Considered harmful, because doesn't work through iframes</span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="Array-isArray-（IE9以及上支持）"><a href="#Array-isArray-（IE9以及上支持）" class="headerlink" title="Array.isArray() （IE9以及上支持）"></a>Array.isArray() （IE9以及上支持）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// all following calls return true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray([]);</span><br><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>]);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="keyword">new</span> <span class="built_in">Array</span>());</span><br><span class="line"><span class="comment">// Little known fact: Array.prototype itself is an array:</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="built_in">Array</span>.prototype); </span><br><span class="line"></span><br><span class="line"><span class="comment">// all following calls return false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray();</span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123;&#125;);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">null</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="number">17</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="string">'Array'</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123; <span class="attr">__proto__</span>: <span class="built_in">Array</span>.prototype &#125;);</span><br></pre></td></tr></table></figure><p>ECMAScript5中Array.isArray是原生的判断数组的方法，IE9及以上支持。考虑到兼容性，在没有此方法的浏览器中，可以使用Object.prototype.toString.call(obj) === ‘[object Array]’替代。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isArray = <span class="built_in">Array</span>.isArray || <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span>;</span><br><span class="line">&#125;   </span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="built_in">console</span>.log(isArray(arr)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><h1 id="Array-对象方法"><a href="#Array-对象方法" class="headerlink" title="Array 对象方法"></a>Array 对象方法</h1><ul><li>concat()</li><li>join()</li><li>slice()</li><li>splice()</li><li>push()</li><li>pop()</li><li>shift()</li><li>unshift()</li></ul><h2 id="concat-方法"><a href="#concat-方法" class="headerlink" title="concat()方法"></a>concat()方法</h2><p>concat()方法用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。<br>concat方法创建一个新的数组，它由被调用的对象中的元素组成，每个参数的顺序依次是该参数的元素（如果参数是数组）或参数本身（如果参数不是数组）。它<strong>不会递归</strong>到嵌套数组参数中。</p><ul><li><p>concat方法不会改变this或任何作为参数提供的数组，而是返回一个浅拷贝，它包含与原始数组相结合的相同元素的副本。 原始数组的元素将复制到新数组中，如下所示：</p></li><li><p>对象引用（而不是实际对象）：concat将对象引用复制到新数组中。 原始数组和新数组都引用相同的对象。 也就是说，如果引用的对象被修改，则更改对于新数组和原始数组都是可见的。 这包括也是数组的数组参数的元素。<br>数据类型如字符串，数字和布尔（不是String，Number 和 Boolean 对象）：concat将字符串和数字的值复制到新数组中。</p><p><strong>数组/值在连接时保持不变。此外，对于新数组的任何操作（仅当元素不是对象引用时）都不会对原始数组产生影响，反之亦然。</strong></p></li></ul><h3 id="concat-例子"><a href="#concat-例子" class="headerlink" title="concat()例子"></a>concat()例子</h3><p>连接两个数组 以下代码将两个数组合并为一个新数组：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> alpha = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> numeric = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">alpha.concat(numeric);</span><br><span class="line"><span class="comment">// result in ['a', 'b', 'c', 1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//合并嵌套数组以下代码合并数组并保留引用：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num1 = [[<span class="number">1</span>]];</span><br><span class="line"><span class="keyword">var</span> num2 = [<span class="number">2</span>, [<span class="number">3</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nums = num1.concat(num2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br><span class="line"><span class="comment">// results in [[1], 2, [3]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// modify the first element of num1</span></span><br><span class="line">num1[<span class="number">0</span>].push(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br><span class="line"><span class="comment">// results in [[1, 4], 2, [3]]</span></span><br></pre></td></tr></table></figure></p><h2 id="join-方法"><a href="#join-方法" class="headerlink" title="join()方法"></a>join()方法</h2><p>join() 方法将数组（或一个类数组对象）的所有元素连接到一个字符串中。不改变原始数组，而是返回新的字符串<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str = arr.join()</span><br><span class="line"><span class="comment">// 默认为 ","</span></span><br><span class="line"></span><br><span class="line">str = arr.join(<span class="string">""</span>)</span><br><span class="line"><span class="comment">// 分隔符 === 空字符串 ""</span></span><br><span class="line"></span><br><span class="line">str = arr.join(separator)</span><br><span class="line"><span class="comment">// 分隔符</span></span><br></pre></td></tr></table></figure></p><h3 id="separator"><a href="#separator" class="headerlink" title="separator"></a>separator</h3><ul><li><p>指定一个字符串来分隔数组的每个元素。</p></li><li><p>如果需要(separator)，将分隔符转换为字符串。</p></li><li><p>如果省略分隔符参数，数组元素用逗号分隔。默认为 “,”。</p></li><li><p>如果separator是空字符串(“”)，则所有元素之间都没有任何字符。</p></li></ul><h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>一个所有数组元素连接的字符串。如果 arr.length 为0，则返回空字符串</p><h3 id="拓展延伸"><a href="#拓展延伸" class="headerlink" title="拓展延伸"></a>拓展延伸</h3><p>数组contact()方法并不能递归到嵌套数组，可以通过join()方法将数组转换成字符串，然后通过split()方法将字符串输出为数组<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 = [[<span class="number">1</span>]];</span><br><span class="line"><span class="keyword">var</span> num2 = [<span class="number">2</span>, [<span class="number">3</span>],[[[<span class="number">7</span>],<span class="number">9</span>],<span class="number">8</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nums = num1.concat(num2).join().split();</span><br><span class="line"><span class="comment">// [1,2,3,7,9,8]</span></span><br></pre></td></tr></table></figure></p><h2 id="slice-方法"><a href="#slice-方法" class="headerlink" title="slice()方法"></a>slice()方法</h2><p>slice() 方法返回一个从开始到结束（不包括结束）选择的数组的一部分浅拷贝到一个新数组对象。且原始数组不会被修改。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayObject.slice(start,end)</span><br></pre></td></tr></table></figure></p><h3 id="返回值-1"><a href="#返回值-1" class="headerlink" title="返回值"></a>返回值</h3><p>返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素。</p><p> begin 可选   </p><p>从该索引处开始提取原数组中的元素（从0开始）。<br>如果该参数为负数，则表示从原数组中的倒数第几个元素开始提取，slice(-2)表示提取原数组中的倒数第二个元素到最后一个元素（包含最后一个元素）。<br>如果省略 begin，则 slice 从索引 0 开始。 </p><p>end可选  </p><p>在该索引处结束提取原数组元素（从0开始）。slice会提取原数组中索引从 begin 到 end 的所有元素（包含begin，但不包含end）。<br>slice(1,4) 提取原数组中的第二个元素开始直到第四个元素的所有元素 （索引为 1, 2, 3的元素）。<br>如果该参数为负数， 则它表示在原数组中的倒数第几个元素结束抽取。 slice(-2,-1)表示抽取了原数组中的倒数第二个元素到最后一个元素（不包含最后一个元素，也就是只有倒数第二个元素）。<br>如果 end 被省略，则slice 会一直提取到原数组末尾。<br>如果 end 大于数组长度，slice 也会一直提取到原数组末尾。</p><h2 id="splice-方法"><a href="#splice-方法" class="headerlink" title="splice()方法"></a>splice()方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayObject.splice(index,howmany,item1,.....,itemX)</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>index</td><td>必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</td></tr><tr><td>howmany</td><td>必需。要删除的项目数量。如果设置为 0，则不会删除项目。</td></tr><tr><td>item1,item2,itemX</td><td>可选。向数组添加的新项目。</td></tr></tbody></table><h3 id="返回值-2"><a href="#返回值-2" class="headerlink" title="返回值"></a>返回值</h3><p>返回包含被删除项目的新数组，如果有的话。</p><blockquote><h4 id="请注意，splice-方法与-slice-方法的作用是不同的，splice-方法会直接对数组进行修改。"><a href="#请注意，splice-方法与-slice-方法的作用是不同的，splice-方法会直接对数组进行修改。" class="headerlink" title="请注意，splice() 方法与 slice() 方法的作用是不同的，splice() 方法会直接对数组进行修改。"></a>请注意，splice() 方法与 slice() 方法的作用是不同的，splice() 方法会直接对数组进行修改。</h4></blockquote><h2 id="push-pop-shift-unshift"><a href="#push-pop-shift-unshift" class="headerlink" title="push/pop/shift/unshift"></a>push/pop/shift/unshift</h2><table><thead><tr><th>方法</th><th>说明</th><th>返回值</th><th>是否改变原数组</th></tr></thead><tbody><tr><td>push</td><td>向数组的末尾添加一个或多个元素，</td><td>新的 length 属性值</td><td>是</td></tr><tr><td>pop</td><td>数组中删除最后一个元素</td><td>该元素的值(当数组为空时返回undefined)</td><td>是</td></tr><tr><td>shift</td><td>从数组中删除第一个元素</td><td>该元素的值(当数组为空时返回undefined)</td><td>是</td></tr><tr><td>unshift</td><td>将一个或多个元素添加到数组的开头</td><td>新的 length 属性值</td><td>是</td></tr></tbody></table><h3 id="push"><a href="#push" class="headerlink" title="push()"></a>push()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    length: <span class="number">0</span>,</span><br><span class="line">    addElem: <span class="function"><span class="keyword">function</span> <span class="title">addElem</span> (<span class="params">elem</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// obj.length is automatically incremented </span></span><br><span class="line">        <span class="comment">// every time an element is added.</span></span><br><span class="line">        [].push.call(<span class="keyword">this</span>, elem);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Let's add some empty objects just to illustrate.</span></span><br><span class="line">obj.addElem(&#123;&#125;);</span><br><span class="line">obj.addElem(&#123;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj.length);</span><br><span class="line"><span class="comment">// → 2</span></span><br></pre></td></tr></table></figure><h2 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h2><ul><li>用于颠倒数组中元素的顺序。</li><li>该方法会直接修改原数组，而不会创建新数组。</li></ul><h2 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h2><ul><li>用于对数组的元素进行排序。</li><li>该排序直接修改原数组，不生成副本。 </li><li>该方法接受一个可选参数，若未使用参数，将按字母顺序对数组元素进行排序，说得更精确点，是按照字符编码的顺序进行排序。要实现这一点，首先应把数组的元素都转换成字符串（如有必要），以便进行比较。<br>*如果想按照其他标准进行排序，就需要提供比较函数，该函数要比较两个值，然后返回一个用于说明这两个值的相对顺序的数字。比较函数应该具有两个参数 a 和 b，其返回值如下：<ul><li>如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；</li><li>如果 compareFunction(a, b) 等于 0 ， a 和 b 的相对位置不变。备注： ECMAScript 标准并不保证这一行为，而且也不是所有浏览器都会遵守（例如 Mozilla如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。 在 2003 年之前的版本）；</li><li>如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。</li><li>compareFunction(a, b) 必须总是对相同的输入返回相同的比较结果，否则排序的结果将是不确定的。</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (a &lt; b ) &#123;           <span class="comment">// 按某种排序标准进行比较, a 小于 b</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a &gt; b ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a must be equal to b</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>要比较数字而非字符串，比较函数可以简单的以 a 减 b，如下的函数将会将数组升序排列<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compareNumbers</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b; <span class="comment">// 由小到大</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="String类型常用原生方法"><a href="#String类型常用原生方法" class="headerlink" title="String类型常用原生方法"></a>String类型常用原生方法</h2><ul><li>concat()</li><li>slice()  </li><li>substring()</li><li>substr() </li><li>split()</li></ul><table><thead><tr><th>方法</th><th>说明</th><th>返回对象 </th></tr></thead><tbody><tr><td>concat</td><td>连接字符串</td><td>新的字符串（字符串连接，实际情况中用+号更加方便）</td></tr><tr><td>slice</td><td>分割提取字符串</td><td>新的字符串</td></tr><tr><td>substring</td><td>分割提取字符串</td><td>新的字符串</td></tr><tr><td>substr</td><td>分割提取字符串</td><td>新的字符串</td></tr><tr><td>split</td><td>分割成字符串数组</td><td>一个字符串数组</td></tr></tbody></table><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">''</span>hello world;</span><br></pre></td></tr></table></figure><table><thead><tr><th>只有一个参数(正值)</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>str.slice(3)</td><td>// lo world</td><td>返回从位置3到原字符串结尾的字符串</td></tr><tr><td>str.substring(3)</td><td>同上</td><td>同上</td></tr><tr><td>str.substr(3)</td><td>同上</td><td>同上</td></tr></tbody></table><table><thead><tr><th>只有一个参数(负值)</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>str.slice(-3)</td><td>// rld</td><td>将负值加上数组长度 等同于str.splice(8)</td></tr><tr><td>str.substring(-3)</td><td>// hello world</td><td>不接受负参数 等同于 str.substring(0)</td></tr><tr><td>str.substr(-3)</td><td>// rld</td><td>将第一个负值加上数组长度 等同于str.substr(8)</td></tr></tbody></table><table><thead><tr><th>两个参数</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>str.slice(3,7)</td><td>// lo w</td><td>返回原字符串从位置3到7（包括3但是不包括7）之间的字符串</td></tr><tr><td>str.substring(3,7)</td><td>// lo w</td><td>返回原字符串从位置3到7（包括3但是不包括7）之间的字符串</td></tr><tr><td>str.substr(3,7)</td><td>// lo worl</td><td>第二个参数代表返回的字符串个数为7个</td></tr></tbody></table><table><thead><tr><th>两个参数</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>str.slice(3,2)</td><td>空</td><td>都为正值的情况下，第二个参数小于第一个参数即结束位置小于开始位置 无返回值</td></tr><tr><td>str.substring(3,2)</td><td>// l</td><td>开始位置小于结束位置，将自动调整为 str.substring(2,3)</td></tr><tr><td>str.substr(3,2)</td><td>// lo</td><td>第二个参数代表返回的字符串个数为2个</td></tr></tbody></table><table><thead><tr><th>两个参数</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>str.slice(3,-4)</td><td>// lo w</td><td>将负值加上数组长度 等同于substr(3,7)</td></tr><tr><td>str.substring(3,-4)</td><td>// hel</td><td>不接受负参数 等同于 str.substring(3,0) 开始位置小于结束位置，将自动调整为 str.substring(0,3)</td></tr><tr><td>str.substr(3,-4)</td><td>无</td><td>第二个参数不接受负参数 代表返回的字符串个数为0个</td></tr></tbody></table><table><thead><tr><th>两个参数</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>str.slice(-4,-3)</td><td>// o</td><td>将负值加上数组长度 等同于substr(7,8)</td></tr><tr><td>str.substring(-4,-3)</td><td>无</td><td>不接受负参数 等同于 str.substring(0,0) </td></tr><tr><td>str.substr(-4,-3)</td><td>无</td><td>第二个参数不接受负参数 代表返回的字符串个数为0个</td></tr></tbody></table><h2 id="split-方法"><a href="#split-方法" class="headerlink" title="split() 方法"></a>split() 方法</h2><p>split() 方法使用指定的分隔符字符串将一个String对象分割成字符串数组，以将字符串分隔为子字符串，以确定每个拆分的位置。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.split([separator[, limit]])</span><br></pre></td></tr></table></figure></p><h4 id="separator-1"><a href="#separator-1" class="headerlink" title="separator"></a>separator</h4><p>指定表示每个拆分应发生的点的字符串。separator 可以是一个字符串或正则表达式。 如果纯文本分隔符包含多个字符，则必须找到整个字符串来表示分割点。如果在str中省略或不出现分隔符，则返回的数组包含一个由整个字符串组成的元素。如果分隔符为空字符串，则将str原字符串中每个字符的数组形式返回。</p><h4 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h4><p>一个整数，限定返回的分割片段数量。当提供此参数时，split 方法会在指定分隔符的每次出现时分割该字符串，但在限制条目已放入数组时停止。如果在达到指定限制之前达到字符串的末尾，它可能仍然包含少于限制的条目。新数组中不返回剩下的文本。</p><h2 id="split-实例"><a href="#split-实例" class="headerlink" title="split()实例"></a>split()实例</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colorText = <span class="string">"color:white,red,\\xx\\y"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(colorText.split(<span class="regexp">/[\\]+/</span>));  <span class="comment">// ["color:white,red,", "xx", "y"]</span></span><br><span class="line"><span class="built_in">console</span>.log(colorText.split(<span class="regexp">/[^\,]+/</span>)); <span class="comment">// ["", ",", ",", ""]</span></span><br><span class="line"><span class="built_in">console</span>.log(colorText.split(<span class="string">','</span>,<span class="number">2</span>)); <span class="comment">// ["color:white", "red"]</span></span><br></pre></td></tr></table></figure><blockquote><h3 id="已知有字符串foo-”get-element-by-id”-写一个function将其转化成驼峰表示法”getElementById”"><a href="#已知有字符串foo-”get-element-by-id”-写一个function将其转化成驼峰表示法”getElementById”" class="headerlink" title="已知有字符串foo=”get-element-by-id”,写一个function将其转化成驼峰表示法”getElementById”"></a>已知有字符串foo=”get-element-by-id”,写一个function将其转化成驼峰表示法”getElementById”</h3></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">combo</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = msg.split(<span class="string">"-"</span>);</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;    <span class="comment">//将arr.length存储在一个局部变量可以提高for循环效率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        arr[i] = arr[i].charAt(<span class="number">0</span>).toUpperCase() + arr[i].substr(<span class="number">1</span>, arr[i].length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    msg = arr.join(<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法二</span></span><br><span class="line">foo.replace(<span class="regexp">/\-[a-z]/g</span>,<span class="function"><span class="keyword">function</span>(<span class="params">match</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> match.substring(<span class="number">1</span>).toUpperCase()    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Date类型"><a href="#Date类型" class="headerlink" title="Date类型"></a>Date类型</h2><p>  Date类型使用UTC（国际协调时间）1970年1月1日午夜（零时)开始经过的毫秒数来保存日期<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// 无参数下 Date对象返回当前的日期和时间</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(value); <span class="comment">// 代表自1970年1月1日00:00:00 (世界标准时间) 起经过的毫秒数。</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(dateString); <span class="comment">//表示日期的字符串值。该字符串应该能被 Date.parse() 方法识别</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]); <span class="comment">//代表月份的整数值从0（1月）到11（12月）。</span></span><br></pre></td></tr></table></figure></p><h3 id="Date方法"><a href="#Date方法" class="headerlink" title="Date方法"></a>Date方法</h3><ul><li>Date.now()   返回自 1970-1-1 00:00:00  UTC (世界标准时间)至今所经过的毫秒数。</li><li>Date.parse() 解析一个表示日期的字符串，并返回从 1970-1-1 00:00:00 所经过的毫秒数。</li><li>Date.UTC() 接受和构造函数最长形式的参数相同的参数（从2到7），并返回从 1970-01-01 00:00:00 UTC 开始所经过的毫秒数。</li></ul><h3 id="Date-parse"><a href="#Date-parse" class="headerlink" title="Date.parse()"></a>Date.parse()</h3><p>Date.parse() 方法解析一个表示某个日期的字符串，并返回从1970-1-1 00:00:00 UTC 到该日期对象（该日期对象的UTC时间）的毫秒数，如果该字符串无法识别，或者一些情况下，包含了不合法的日期数值（如：2015-02-31），则返回值为NaN。</p><p>不推荐在ES5之前使用Date.parse方法，因为字符串的解析完全取决于实现。直到至今，不同宿主在如何解析日期字符串上仍存在许多差异，因此最好还是手动解析日期字符串（在需要适应不同格式时库能起到很大帮助）。     </p><h4 id="显式调用"><a href="#显式调用" class="headerlink" title="显式调用"></a>显式调用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>.parse(dateString)</span><br></pre></td></tr></table></figure><h4 id="隐式调用"><a href="#隐式调用" class="headerlink" title="隐式调用"></a>隐式调用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(dateString)</span><br></pre></td></tr></table></figure><h3 id="Date-UTC"><a href="#Date-UTC" class="headerlink" title="Date.UTC()"></a>Date.UTC()</h3><p>UTC 方法接受以逗号隔开的日期参数，返回1970-1-1 00:00:00 UTC到指定的日期之间的毫秒数。<br>你应该指定一个完整格式的年份，如 1998。如果年份被指定为 0 到 99 之间，则该方法会将年份转换为 20 世纪的一个年份（即 1990 + year），例如，指定为 95， 则年份为 1995。</p><p>如果有一个指定的参数超出其合理范围，则 UTC 方法会通过更新其他参数直到该参数在合理范围内。例如，为月份指定 15，则年份将会加 1，然后月份将会使用 3。</p><h2 id="时间倒计时实例"><a href="#时间倒计时实例" class="headerlink" title="时间倒计时实例"></a>时间倒计时实例</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移动端 new Date() 传入日期参数出来的时间会比当前的时间+8小时</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">var</span> featureTime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2018/11/13 13:55:55+0800'</span>);</span><br><span class="line"><span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> timeDiff = (featureTime.getTime() - nowTime.getTime()) / <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">parseInt</span>(timeDiff / <span class="number">86400</span>);  <span class="comment">// 一天24小时 一小时60分 一分钟60秒 合计86400 秒</span></span><br><span class="line"><span class="keyword">var</span> h = <span class="built_in">parseInt</span>((timeDiff % <span class="number">86400</span> ) / <span class="number">3600</span>) <span class="comment">// 剩余小时</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="built_in">parseInt</span>((timeDiff % <span class="number">86400</span> ) % <span class="number">3600</span> / <span class="number">60</span>) <span class="comment">//剩余分钟</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="built_in">parseInt</span>( timeDiff % <span class="number">60</span>) <span class="comment">//剩余秒</span></span><br><span class="line"><span class="built_in">console</span>.log(d + <span class="string">'天'</span> + h + <span class="string">'小时'</span> + m + <span class="string">'分钟'</span> + s + <span class="string">'秒'</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; 看完js高级程序之后对js基本类型的学习和总结&lt;/p&gt;
    
    </summary>
    
    
      <category term="js" scheme="https://liuchao0704.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>angular1开发webApp | 持续更新</title>
    <link href="https://liuchao0704.github.io/2017/07/07/angularApp/"/>
    <id>https://liuchao0704.github.io/2017/07/07/angularApp/</id>
    <published>2017-07-07T13:45:43.000Z</published>
    <updated>2018-03-16T07:12:34.000Z</updated>
    
    <content type="html"><![CDATA[<p> 最近用angular做了一些webApp,也总结了不少的固定套路。现在将固定套路整理如下,主要分为css,js,插件三部分。</p><a id="more"></a> <h2 id="js部分"><a href="#js部分" class="headerlink" title="js部分"></a>js部分</h2><h3 id="利用-rootscope打造轻量级数据管理"><a href="#利用-rootscope打造轻量级数据管理" class="headerlink" title="利用$rootscope打造轻量级数据管理"></a>利用<code>$rootscope</code>打造轻量级数据管理</h3><p> 建议将常量定义在 main.js 里的 <code>$rootscope</code>里,必要时结合<code>$localstorage</code> 使用。好处:一次定义,多次复用，实时更新</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> u = navigator.userAgent;</span><br><span class="line">           $scope.app = &#123;</span><br><span class="line">               errorId:<span class="literal">null</span>, <span class="comment">//错误码</span></span><br><span class="line">               enableToAddEquip: <span class="literal">false</span>, <span class="comment">//是否可以添加设备</span></span><br><span class="line">               environment: <span class="regexp">/localhost/</span>.test(<span class="built_in">window</span>.location.href) ? <span class="string">'dev'</span> : <span class="string">'product'</span>, <span class="comment">//开发or生产环境</span></span><br><span class="line">               logOut: <span class="literal">false</span>, <span class="comment">//是否退出</span></span><br><span class="line">               isAndroid: u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Adr'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>, <span class="comment">//判断安卓或者苹果</span></span><br><span class="line">               isIphone: u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span>,</span><br><span class="line">               version: <span class="number">1.0</span>,</span><br><span class="line">               weatherKey: <span class="number">5</span>, <span class="comment">//天气状态码</span></span><br><span class="line">               roleName: $localStorage.app ? $localStorage.app.roleName : <span class="string">''</span>,  <span class="comment">// 不在提示绑定</span></span><br><span class="line">               email: $localStorage.app ? $localStorage.app.email : <span class="string">''</span>,  <span class="comment">// 终端用户 &amp; 安装商email</span></span><br><span class="line">               userName: $localStorage.app ? $localStorage.app.userName : <span class="string">''</span>,</span><br><span class="line">               password: $localStorage.app ? $localStorage.password : <span class="string">''</span>,</span><br><span class="line">               installerSn: $localStorage.app ? $localStorage.app.installerSn : <span class="literal">null</span>,</span><br><span class="line">               operationSn: $localStorage.app ? $localStorage.app.operationSn : <span class="literal">null</span>,</span><br><span class="line">               userSn: $localStorage.app ? $localStorage.app.userSn : <span class="literal">null</span>,</span><br><span class="line">               equipSn: $localStorage.app ? $localStorage.app.equipSn : <span class="literal">null</span>,</span><br><span class="line">               stationId: $localStorage.app ? $localStorage.app.stationId : <span class="literal">null</span>,</span><br><span class="line">               authError: <span class="literal">null</span>,</span><br><span class="line">               successReturnCode: <span class="string">'0000'</span></span><br><span class="line">           &#125;;</span><br></pre></td></tr></table></figure><h3 id="尝试其他方法和后台做数据交互"><a href="#尝试其他方法和后台做数据交互" class="headerlink" title="尝试其他方法和后台做数据交互"></a>尝试其他方法和后台做数据交互</h3><p>这个问题是我在做第一个app中遇到的，如果不用ajax，前端有什么其他方法和后台做数据交互？<br>我的partner提出了一个可行的方法。大致思路是后端拦截前端所有页面间的跳转，前端不主动跳转页面。所有的跳转由后台协助完成。在android系统里前、后端约定好一个函数名称，如果前端调用该函数，函数的参数即是需要交互的数据。后端通过参数获取前端上传的数据。并将前端需要的结果以字符串的形式返回（可以是url，也可以是解析后的JSON字符串）</p><pre><code>var url = window.jsOjb.login(&apos;demo&apos;,&apos;123456&apos;) // demo 用户名 123456 密码 函数的返回值即成功登陆之后的url链接if(url){  window.location.href = url;}</code></pre><p>在ios系统中稍微不一样<br>     var url = window.location.href = ‘,login,name,123456’;</p><h2 id="CSS部分"><a href="#CSS部分" class="headerlink" title="CSS部分"></a>CSS部分</h2><h3 id="rem-解决页面适配问题"><a href="#rem-解决页面适配问题" class="headerlink" title="rem 解决页面适配问题"></a>rem 解决页面适配问题</h3><p>rem 的原理就是根据html的font-size 大小，做到页面的元素宽/高度自适应。而用rem遇到的问题是：如果用<strong>js动态</strong>设置页面的font-size，页面会有一瞬间的先缩小后放大过程。我的解决方案是利用css3的媒体查询直接改变html的font-size大小。此段代码可以写在页面重置css里</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">32px</span> <span class="meta">!important</span>;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">350px</span>) and (max-width:<span class="number">374px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">35px</span> <span class="meta">!important</span>;&#125;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">375px</span>) and (max-width:<span class="number">413px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">37px</span><span class="meta">!important</span>;&#125;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">414px</span>) and (max-width:<span class="number">639px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">41px</span><span class="meta">!important</span>;&#125;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">640px</span>) and (max-width:<span class="number">719px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">64px</span><span class="meta">!important</span>;&#125;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">720px</span>) and (max-width:<span class="number">749px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">72px</span><span class="meta">!important</span>;&#125;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">750px</span>) and (max-width:<span class="number">799px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">75px</span><span class="meta">!important</span>;&#125;&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">800px</span>)&#123;<span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">80px</span>&#125;&#125;</span><br></pre></td></tr></table></figure><p> html 部分的meta标签</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"</span> /&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- ios自动识别数字为电话号码导致页面错位 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="input-typr-radio-表现怪异"><a href="#input-typr-radio-表现怪异" class="headerlink" title="input[typr=radio]表现怪异"></a>input[typr=radio]表现怪异</h3><p>由于重置了一些css样式导致input输入框的样式变成可以复制粘贴，而不是呈点击状态<br>故将css代码贴出来，防止再入坑<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 此代码会导致<span class="built_in">input</span>单选框怪异模式*/</span><br><span class="line"> <span class="built_in">input</span>:-webkit-user-modify:<span class="built_in">read</span>-<span class="built_in">write</span>-plaintext-only;</span><br></pre></td></tr></table></figure></p><h2 id="sticky-footer-布局"><a href="#sticky-footer-布局" class="headerlink" title="[sticky footer 布局]"></a>[sticky footer 布局]</h2><p><a href="https://liuchao0704.github.io/2017/12/16/css3/">点击查看</a></p><h2 id="App单页面切换效果"><a href="#App单页面切换效果" class="headerlink" title="App单页面切换效果"></a>App单页面切换效果</h2><p>SPA加上页面切换效果堪比原生App<a href="https://github.com/liuchao0704/angularWebApp.git" target="_blank" rel="noopener">点击查看</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; 最近用angular做了一些webApp,也总结了不少的固定套路。现在将固定套路整理如下,主要分为css,js,插件三部分。&lt;/p&gt;
    
    </summary>
    
    
      <category term="angular" scheme="https://liuchao0704.github.io/tags/angular/"/>
    
      <category term="webApp" scheme="https://liuchao0704.github.io/tags/webApp/"/>
    
  </entry>
  
  <entry>
    <title>Angular $on、$emit、$broadcast 事件传播时机分析</title>
    <link href="https://liuchao0704.github.io/2017/05/17/broadcast/"/>
    <id>https://liuchao0704.github.io/2017/05/17/broadcast/</id>
    <published>2017-05-17T13:43:51.000Z</published>
    <updated>2018-07-21T05:52:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>ng事件传播小小的总结</p><a id="more"></a><h3 id="事件传播的时机分析"><a href="#事件传播的时机分析" class="headerlink" title="事件传播的时机分析"></a>事件传播的时机分析</h3><hr><p>事件传播的格式和用法比较简单。而对于事件传播的时机有可以分析的地方。其中js的执行顺序是先执行父级controller，再执行子级controller，所以当父级发出事件的时候，子级有可能接收不到事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</span><br><span class="line">app.controller(<span class="string">'ParentCtrlrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $http</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 父级接收事件</span></span><br><span class="line">    $scope.$on(<span class="string">'to-parent'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//父级直接传播事件1</span></span><br><span class="line">    $scope.$broadcast(<span class="string">'to-child'</span>, <span class="string">'x'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//父级异步传播事件2</span></span><br><span class="line">     $http.post(<span class="string">'api.json'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res.data.success) &#123;</span><br><span class="line">            $scope.$broadcast(<span class="string">'to-child'</span>, <span class="string">'y'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//父级点击传播事件3</span></span><br><span class="line">    $scope.click = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        $scope.$broadcast(<span class="string">'to-child'</span>, <span class="string">'z'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.controller(<span class="string">'SelfCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 子级直接传播事件1</span></span><br><span class="line">    $scope.$emit(<span class="string">'to-parent'</span>, <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 子级接收事件2</span></span><br><span class="line">    $scope.$on(<span class="string">'to-child'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>看一下打印结果</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">y</span><br><span class="line">z <span class="comment">//点击之后出现z,而x始终未出现</span></span><br></pre></td></tr></table></figure><p>思考父级controller如何在子级js执行后传播事件？<br>我的思路是：增加一个子级向上通知的事件。子级先向父级传播事件 →父级接收到事件后 → 父级向下传播事件 → 子级接收事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</span><br><span class="line">     app.controller(<span class="string">'ParentCtrlrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $http</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 父级接收事件之后再传播</span></span><br><span class="line">    $scope.$on(<span class="string">'to-parent'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data);</span><br><span class="line">        $scope.$broadcast(<span class="string">'to-child'</span>, <span class="string">'x'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.controller(<span class="string">'SelfCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 子级接收事件2</span></span><br><span class="line">    $scope.$on(<span class="string">'to-child'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e, data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 子级直接传播事件1</span></span><br><span class="line">    $scope.$emit(<span class="string">'to-parent'</span>, <span class="string">'1'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>查看一下打印结果</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">X</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ng事件传播小小的总结&lt;/p&gt;
    
    </summary>
    
    
      <category term="angular" scheme="https://liuchao0704.github.io/tags/angular/"/>
    
  </entry>
  
  <entry>
    <title>Select与Datepicker插件控制日期</title>
    <link href="https://liuchao0704.github.io/2017/04/23/datepicker/"/>
    <id>https://liuchao0704.github.io/2017/04/23/datepicker/</id>
    <published>2017-04-23T06:57:33.000Z</published>
    <updated>2018-07-21T05:48:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>   Date对象和Datepicker插件使用总结</p><a id="more"></a><p><img src="http://okn6xxp76.bkt.clouddn.com/datepicker/datepicker.gif" alt="mark"></p><h3 id="datepicker-基本用法"><a href="#datepicker-基本用法" class="headerlink" title="datepicker 基本用法"></a>datepicker 基本用法</h3><hr><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group date"</span> <span class="attr">id</span>=<span class="string">"date"</span> <span class="attr">data-provide</span>=<span class="string">"datepicker"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">ng-disabled</span>=<span class="string">"disable"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group-addon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-th"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;#date&apos;).datepicker(&#123;</span><br><span class="line">    language: &apos;zh-CN&apos;,</span><br><span class="line">    autoclose: true,</span><br><span class="line">    format: &apos;yyyy-mm-dd&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>直接将日期更新到今日</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>()) <span class="comment">// 日期更新到今日</span></span><br></pre></td></tr></table></figure><h3 id="Select-改变日期预览格式-支持日-月-年视图切换"><a href="#Select-改变日期预览格式-支持日-月-年视图切换" class="headerlink" title="Select 改变日期预览格式 支持日/月/年视图切换"></a>Select 改变日期预览格式 支持日/月/年视图切换</h3><hr><p>月视图写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> $(<span class="string">'#date'</span>).datepicker(&#123;</span><br><span class="line">    language: <span class="string">'zh-CN'</span>,</span><br><span class="line">    autoclose: <span class="literal">true</span>,</span><br><span class="line">    startView: <span class="number">1</span>,</span><br><span class="line">    maxViewMode: <span class="number">1</span>,</span><br><span class="line">    minViewMode: <span class="number">1</span>,</span><br><span class="line">    format: <span class="string">'yyyy-mm'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="点击前后按钮实现日期自动-1-1切换"><a href="#点击前后按钮实现日期自动-1-1切换" class="headerlink" title="点击前后按钮实现日期自动+1/-1切换"></a>点击前后按钮实现日期自动+1/-1切换</h3><hr><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>日期联动<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 最新版本的 Bootstrap 核心 CSS 文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"</span> <span class="attr">integrity</span>=<span class="string">"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--datepicker css --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"dist/css/bootstrap-datepicker.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular-1.3.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--datepicker js --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"dist/js/bootstrap-datepicker.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--datepicker language js --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"dist/locales/bootstrap-datepicker.zh-CN.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span> <span class="attr">ng-controller</span>=<span class="string">"myCtrl"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"col-xs-12"</span>&gt;</span> Select与Datepicker插件控制日期<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-5"</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"dateType"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">ng-model</span>=<span class="string">"dateType"</span> <span class="attr">ng-change</span>=<span class="string">"dateTypeChange(dateType)"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>日<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>月<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span>年<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"4"</span>&gt;</span>总<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-1"</span> <span class="attr">ng-click</span>=<span class="string">"gotoPreNext(0)"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-chevron-left"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-5"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group date"</span> <span class="attr">id</span>=<span class="string">"date"</span> <span class="attr">data-provide</span>=<span class="string">"datepicker"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">ng-disabled</span>=<span class="string">"disable"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group-addon"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-th"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-1"</span> <span class="attr">ng-click</span>=<span class="string">"gotoPreNext(1)"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-chevron-right</span></span></span><br><span class="line"><span class="tag"><span class="string">glyphicon glyphicon-"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</span></span><br><span class="line"><span class="actionscript">    app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        $scope.dateType = <span class="string">'1'</span>; <span class="comment">// 初始化默认日期类型为日;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 为Date 添加format方法</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">Date</span>.prototype.format = <span class="function"><span class="keyword">function</span>(<span class="params">fmt</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> o = &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="string">"M+"</span>: <span class="keyword">this</span>.getMonth() + <span class="number">1</span>, <span class="comment">//月份</span></span></span><br><span class="line"><span class="actionscript">                <span class="string">"d+"</span>: <span class="keyword">this</span>.getDate(), <span class="comment">//日</span></span></span><br><span class="line"><span class="actionscript">                <span class="string">"h+"</span>: <span class="keyword">this</span>.getHours(), <span class="comment">//小时</span></span></span><br><span class="line"><span class="actionscript">                <span class="string">"m+"</span>: <span class="keyword">this</span>.getMinutes(), <span class="comment">//分</span></span></span><br><span class="line"><span class="actionscript">                <span class="string">"s+"</span>: <span class="keyword">this</span>.getSeconds(), <span class="comment">//秒</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"q+"</span>: <span class="built_in">Math</span>.floor((<span class="keyword">this</span>.getMonth() + <span class="number">3</span>) / <span class="number">3</span>), <span class="comment">//季度</span></span></span><br><span class="line"><span class="actionscript">                <span class="string">"S"</span>: <span class="keyword">this</span>.getMilliseconds() <span class="comment">//毫秒</span></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.test(fmt)) &#123;</span></span><br><span class="line"><span class="javascript">                fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, (<span class="keyword">this</span>.getFullYear() + <span class="string">""</span>).substr(<span class="number">4</span> - <span class="built_in">RegExp</span>.$<span class="number">1.</span>length));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"("</span> + k + <span class="string">")"</span>).test(fmt)) &#123;</span></span><br><span class="line"><span class="javascript">                    fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, (<span class="built_in">RegExp</span>.$<span class="number">1.</span>length == <span class="number">1</span>) ? (o[k]) : ((<span class="string">"00"</span> + o[k]).substr((<span class="string">""</span> + o[k]).length)));</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> fmt;</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#date'</span>).datepicker(&#123;</span></span><br><span class="line"><span class="actionscript">            language: <span class="string">'zh-CN'</span>,</span></span><br><span class="line"><span class="actionscript">            autoclose: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">            format: <span class="string">'yyyy-mm-dd'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>()) <span class="comment">// 默认当天日期</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        $scope.disable = <span class="literal">false</span>; <span class="comment">// 默认可选日期</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        $scope.dateTypeChange = <span class="function"><span class="keyword">function</span><span class="params">(type)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">switch</span> (<span class="built_in">parseInt</span>(type))</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">case</span> <span class="number">1</span>:</span></span><br><span class="line"><span class="actionscript">                    $scope.disable = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(<span class="string">'remove'</span>);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(&#123;</span></span><br><span class="line"><span class="actionscript">                        language: <span class="string">'zh-CN'</span>,</span></span><br><span class="line"><span class="actionscript">                        autoclose: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">                        format: <span class="string">'yyyy-mm-dd'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="javascript">                   $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>())</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">case</span> <span class="number">2</span>:</span></span><br><span class="line"><span class="actionscript">                    $scope.disable = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(<span class="string">'remove'</span>);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(&#123;</span></span><br><span class="line"><span class="actionscript">                        language: <span class="string">'zh-CN'</span>,</span></span><br><span class="line"><span class="actionscript">                        autoclose: <span class="literal">true</span>,</span></span><br><span class="line"><span class="undefined">                        startView: 1,</span></span><br><span class="line"><span class="undefined">                        maxViewMode: 1,</span></span><br><span class="line"><span class="undefined">                        minViewMode: 1,</span></span><br><span class="line"><span class="actionscript">                        format: <span class="string">'yyyy-mm'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="javascript">                    str = <span class="keyword">new</span> <span class="built_in">Date</span>().format(<span class="string">'yyyy-MM'</span>)</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, str)</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">case</span> <span class="number">3</span>:</span></span><br><span class="line"><span class="actionscript">                    $scope.disable = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(<span class="string">'remove'</span>);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(&#123;</span></span><br><span class="line"><span class="actionscript">                        language: <span class="string">'zh-CN'</span>,</span></span><br><span class="line"><span class="actionscript">                        autoclose: <span class="literal">true</span>,</span></span><br><span class="line"><span class="undefined">                        startView: 2,</span></span><br><span class="line"><span class="undefined">                        maxViewMode: 2,</span></span><br><span class="line"><span class="undefined">                        minViewMode: 2,</span></span><br><span class="line"><span class="actionscript">                        format: <span class="string">'yyyy'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="javascript">                    str = <span class="keyword">new</span> <span class="built_in">Date</span>().format(<span class="string">'yyyy'</span>)</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, str)</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">case</span> <span class="number">4</span>:</span></span><br><span class="line"><span class="actionscript">                    $scope.disable = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date input'</span>).val(<span class="string">'---'</span>);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#date'</span>).datepicker(<span class="string">'remove'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">                 <span class="keyword">default</span>:</span></span><br><span class="line"><span class="actionscript">                 <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">     </span></span><br><span class="line"><span class="actionscript">       <span class="comment">// 前后按钮改变日期 前一天 后一天</span></span></span><br><span class="line"><span class="actionscript">        $scope.gotoPreNext = <span class="function"><span class="keyword">function</span><span class="params">(flag)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> curDate =  $(<span class="string">'#date input'</span>).val();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dateY = <span class="built_in">parseInt</span>(curDate.split(<span class="string">'-'</span>)[<span class="number">0</span>])|| <span class="built_in">parseInt</span>(curDate);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 年比较特殊 不需要分割直接使用</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dateM = <span class="built_in">parseInt</span>(curDate.split(<span class="string">'-'</span>)[<span class="number">1</span>])|| <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dateD = <span class="built_in">parseInt</span>(curDate.split(<span class="string">'-'</span>)[<span class="number">2</span>])|| <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (<span class="built_in">parseInt</span>($scope.dateType)) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">case</span> <span class="number">1</span>:</span></span><br><span class="line"><span class="actionscript">             <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(dateY, dateM<span class="number">-1</span> , dateD + <span class="number">1</span>))</span></span><br><span class="line"><span class="actionscript">             &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(dateY, dateM<span class="number">-1</span> , dateD <span class="number">-1</span>))</span></span><br><span class="line"><span class="undefined">             &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">case</span> <span class="number">2</span>:</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(dateY, dateM, <span class="number">1</span>));</span></span><br><span class="line"><span class="actionscript">             &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(dateY, dateM<span class="number">-2</span>, <span class="number">1</span>))</span></span><br><span class="line"><span class="undefined">             &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">case</span> <span class="number">3</span>:</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(dateY + <span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>))</span></span><br><span class="line"><span class="actionscript">             &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#date'</span>).datepicker(<span class="string">'update'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(dateY - <span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>))</span></span><br><span class="line"><span class="undefined">             &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">default</span>:</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">break</span>; </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;   Date对象和Datepicker插件使用总结&lt;/p&gt;
    
    </summary>
    
    
      <category term="js" scheme="https://liuchao0704.github.io/tags/js/"/>
    
      <category term="date" scheme="https://liuchao0704.github.io/tags/date/"/>
    
  </entry>
  
  <entry>
    <title>Angular JS动态控制多选框全选与全不选并且打印选中的值</title>
    <link href="https://liuchao0704.github.io/2017/04/10/multiselect/"/>
    <id>https://liuchao0704.github.io/2017/04/10/multiselect/</id>
    <published>2017-04-10T12:34:40.000Z</published>
    <updated>2018-07-21T06:02:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>Angular JS获取多选框处理的值</p><a id="more"></a><p><img src="http://okn6xxp76.bkt.clouddn.com/image/hexo/checkbox.gif" alt="mark"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span> <span class="attr">ng-controller</span>=<span class="string">"vipApplyEditCtrl"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"color in colors"</span>&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-checked</span>=<span class="string">"isChecked(color.id)"</span>   </span></span><br><span class="line"><span class="tag">                <span class="attr">ng-click</span>=<span class="string">"updateSelection($event,color.id)"</span> /&gt;</span>&#123;&#123;color.name&#125;&#125;  </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span><br><span class="line">        Selected : &#123;&#123;selected&#125;&#125;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</span></span><br><span class="line"><span class="actionscript">    app.controller(<span class="string">"vipApplyEditCtrl"</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span> </span>&#123;  </span></span><br><span class="line"><span class="undefined">        $scope.colors = [  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">1</span>, name : <span class="string">'black'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">2</span>, name : <span class="string">'red'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">3</span>, name : <span class="string">'blue'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">4</span>, name : <span class="string">'yellow'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">5</span>, name : <span class="string">'green'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">6</span>, name : <span class="string">'white'</span>&#125;  </span></span><br><span class="line"><span class="undefined">        ] ;  </span></span><br><span class="line"><span class="undefined">          </span></span><br><span class="line"><span class="undefined">        $scope.selected = [] ;  </span></span><br><span class="line"><span class="undefined">          </span></span><br><span class="line"><span class="actionscript">        $scope.isChecked = <span class="function"><span class="keyword">function</span><span class="params">(id)</span></span>&#123;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> $scope.selected.indexOf(id) &gt;= <span class="number">0</span> ;  </span></span><br><span class="line"><span class="undefined">        &#125; ;</span></span><br><span class="line"><span class="undefined">          </span></span><br><span class="line"><span class="actionscript">        $scope.updateSelection = <span class="function"><span class="keyword">function</span><span class="params">($event,id)</span></span>&#123;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> checkbox = $event.target ;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> checked = checkbox.checked ;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(checked)&#123;  </span></span><br><span class="line"><span class="undefined">                $scope.selected.push(id) ;  </span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;  </span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> idx = $scope.selected.indexOf(id) ;  </span></span><br><span class="line"><span class="undefined">                $scope.selected.splice(idx,1) ;  </span></span><br><span class="line"><span class="undefined">            &#125;  </span></span><br><span class="line"><span class="undefined">        &#125; ;  </span></span><br><span class="line"><span class="undefined">    &#125;);  </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="通过ng-checked-属性选中某个多选框"><a href="#通过ng-checked-属性选中某个多选框" class="headerlink" title="通过ng-checked 属性选中某个多选框"></a>通过ng-checked 属性选中某个多选框</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$scope.selected = [<span class="number">2</span>] ;  <span class="comment">// 支持预先选中某个选项</span></span><br></pre></td></tr></table></figure><h3 id="增加全选和取消全选的按钮"><a href="#增加全选和取消全选的按钮" class="headerlink" title="增加全选和取消全选的按钮"></a>增加全选和取消全选的按钮</h3><p>   1、增加一个开关控制单选或者全选(可以用checkbox 或者 radio)<br>   2、动态改变select数组<br>   3、单个选项进行操作的时候判断是否改变了全选或者非全选的状态，如果改变动态更新<br>   4、涉及到checkbox 和 radio 操作请使用ng-change来代替ng-click，否则model值为undefined或者未更新<br>   5、针对第四条补充说明如果是单纯的点击操作，不涉及到model值的传递，可以用ng-click，但是需要将model值作为函数的参数进行传递的时候请使用ng-change比较稳妥。</p><h2 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular-1.3.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span> <span class="attr">ng-controller</span>=<span class="string">"vipApplyEditCtrl"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span><br><span class="line">         <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">type</span>=<span class="string">"checkbox"</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">name</span>=<span class="string">"all"</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">ng-model</span>=<span class="string">"all"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">ng-change</span>=<span class="string">"toSelectAll(all)"</span>&gt;</span> 全选 </span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span>&gt;</span>&#123;&#123;all&#125;&#125;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"color in colors"</span>&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">                  <span class="attr">type</span>=<span class="string">"checkbox"</span> </span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-checked</span>=<span class="string">"isChecked(color.id)"</span>   </span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-click</span>=<span class="string">"updateSelection($event,color.id)"</span> </span></span><br><span class="line"><span class="tag">                  /&gt;</span></span><br><span class="line">                  &#123;&#123;color.name&#125;&#125;  </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        Selected :&#123;&#123;selected&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</span></span><br><span class="line"><span class="actionscript">    app.controller(<span class="string">"vipApplyEditCtrl"</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span> </span>&#123;  </span></span><br><span class="line"><span class="undefined">        $scope.formData = &#123;&#125;;</span></span><br><span class="line"><span class="undefined">        $scope.colors = [  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">1</span>, name : <span class="string">'black'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">2</span>, name : <span class="string">'red'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">3</span>, name : <span class="string">'blue'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">4</span>, name : <span class="string">'yellow'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">5</span>, name : <span class="string">'green'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">            &#123;id : <span class="number">6</span>, name : <span class="string">'white'</span>&#125;  </span></span><br><span class="line"><span class="undefined">        ] ;  </span></span><br><span class="line"><span class="undefined">          </span></span><br><span class="line"><span class="undefined">         $scope.selected = [] ;  </span></span><br><span class="line"><span class="actionscript">         $scope.isChecked = <span class="function"><span class="keyword">function</span><span class="params">(id)</span></span>&#123;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> $scope.selected.indexOf(id) &gt;= <span class="number">0</span> ;  </span></span><br><span class="line"><span class="undefined">         &#125; ; </span></span><br><span class="line"><span class="actionscript">        $scope.updateSelection = <span class="function"><span class="keyword">function</span><span class="params">($event,id)</span></span>&#123;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> checkbox = $event.target ;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> checked = checkbox.checked ;  </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(checked)&#123;  </span></span><br><span class="line"><span class="undefined">                $scope.selected.push(id);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;  </span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> idx = $scope.selected.indexOf(id) ;  </span></span><br><span class="line"><span class="undefined">                $scope.selected.splice(idx,1) ;  </span></span><br><span class="line"><span class="undefined">            &#125;  </span></span><br><span class="line"><span class="actionscript">             <span class="keyword">if</span>($scope.selected.length == $scope.colors.length) &#123;</span></span><br><span class="line"><span class="actionscript">                    $scope.all = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">             &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                    $scope.all = <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">             &#125;   </span></span><br><span class="line"><span class="undefined">        &#125; ;</span></span><br><span class="line"><span class="actionscript">        $scope.toSelectAll = <span class="function"><span class="keyword">function</span><span class="params">(flag)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">             <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="undefined">                 $scope.selected = []</span></span><br><span class="line"><span class="actionscript">                  angular.forEach($scope.colors, <span class="function"><span class="keyword">function</span> <span class="params">(i)</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">                    $scope.selected.push(i.id);</span></span><br><span class="line"><span class="undefined">                &#125;)</span></span><br><span class="line"><span class="actionscript">             &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                 angular.forEach($scope.colors, <span class="function"><span class="keyword">function</span> <span class="params">(i)</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">                    $scope.selected = [];</span></span><br><span class="line"><span class="undefined">                &#125;)       </span></span><br><span class="line"><span class="undefined">             &#125;       </span></span><br><span class="line"><span class="undefined">        &#125;  </span></span><br><span class="line"><span class="undefined">    &#125;);  </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular-1.3.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span> <span class="attr">ng-controller</span>=<span class="string">"vipApplyEditCtrl"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"checkbox"</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"all"</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">ng-model</span>=<span class="string">"all"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">ng-change</span>=<span class="string">"toSelectAll(all)"</span>&gt;</span> 全选 </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span>&gt;</span>&#123;&#123;all&#125;&#125;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"color in colors"</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">type</span>=<span class="string">"checkbox"</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">ng-checked</span>=<span class="string">"color.checked == true"</span>   </span></span><br><span class="line"><span class="tag">              <span class="attr">ng-click</span>=<span class="string">"updateSelection(color)"</span> </span></span><br><span class="line"><span class="tag">              /&gt;</span></span><br><span class="line">              &#123;&#123;color.name&#125;&#125;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    Selected :&#123;&#123;selected&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</span></span><br><span class="line"><span class="actionscript">app.controller(<span class="string">"vipApplyEditCtrl"</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span> </span>&#123;  </span></span><br><span class="line"><span class="undefined">    $scope.formData = &#123;&#125;;</span></span><br><span class="line"><span class="undefined">    $scope.colors = [  </span></span><br><span class="line"><span class="actionscript">        &#123;id : <span class="number">1</span>, name : <span class="string">'black'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">        &#123;id : <span class="number">2</span>, name : <span class="string">'red'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">        &#123;id : <span class="number">3</span>, name : <span class="string">'blue'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">        &#123;id : <span class="number">4</span>, name : <span class="string">'yellow'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">        &#123;id : <span class="number">5</span>, name : <span class="string">'green'</span>&#125;,  </span></span><br><span class="line"><span class="actionscript">        &#123;id : <span class="number">6</span>, name : <span class="string">'white'</span>&#125;  </span></span><br><span class="line"><span class="undefined">    ] ;  </span></span><br><span class="line"><span class="undefined">      </span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">     $scope.selected = [] ;  </span></span><br><span class="line"><span class="actionscript">    $scope.updateSelection = <span class="function"><span class="keyword">function</span><span class="params">(obj)</span></span>&#123;  </span></span><br><span class="line"><span class="undefined">       </span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span>(!obj.checked )&#123;  </span></span><br><span class="line"><span class="actionscript">            obj.checked = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">            $scope.selected.push(obj.id);</span></span><br><span class="line"><span class="undefined">           </span></span><br><span class="line"><span class="actionscript">        &#125;<span class="keyword">else</span>&#123;  </span></span><br><span class="line"><span class="actionscript">            obj.checked = <span class="literal">false</span>; </span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> idx = $scope.selected.indexOf(obj.id) ;  </span></span><br><span class="line"><span class="undefined">            $scope.selected.splice(idx,1) ; </span></span><br><span class="line"><span class="undefined">        &#125;  </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">         <span class="keyword">if</span>($scope.selected.length == $scope.colors.length) &#123;</span></span><br><span class="line"><span class="actionscript">                $scope.all = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">         &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                $scope.all = <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">         &#125;   </span></span><br><span class="line"><span class="undefined">    &#125; ;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    $scope.toSelectAll = <span class="function"><span class="keyword">function</span><span class="params">(flag)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">         <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="undefined">             $scope.selected = []</span></span><br><span class="line"><span class="actionscript">              angular.forEach($scope.colors, <span class="function"><span class="keyword">function</span> <span class="params">(i)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                i.checked = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">                $scope.selected.push(i.id);</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="actionscript">         &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">             angular.forEach($scope.colors, <span class="function"><span class="keyword">function</span> <span class="params">(i)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                i.checked = <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                $scope.selected = [];</span></span><br><span class="line"><span class="undefined">            &#125;) </span></span><br><span class="line"><span class="undefined">         &#125;</span></span><br><span class="line"><span class="undefined">    &#125;  </span></span><br><span class="line"><span class="undefined">&#125;);  </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Angular JS获取多选框处理的值&lt;/p&gt;
    
    </summary>
    
    
      <category term="angular" scheme="https://liuchao0704.github.io/tags/angular/"/>
    
      <category term="js" scheme="https://liuchao0704.github.io/tags/js/"/>
    
      <category term="checkbox" scheme="https://liuchao0704.github.io/tags/checkbox/"/>
    
  </entry>
  
  <entry>
    <title>简约黑白风改造清爽一居室 | 更新</title>
    <link href="https://liuchao0704.github.io/2017/03/29/direction/"/>
    <id>https://liuchao0704.github.io/2017/03/29/direction/</id>
    <published>2017-03-29T12:09:50.000Z</published>
    <updated>2018-07-21T06:00:35.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://okn6xxp76.bkt.clouddn.com/house/mmexport1531529084808.jpg" alt=""></p><a id="more"></a><h2 id="2018-06更新-夏日清爽Look"><a href="#2018-06更新-夏日清爽Look" class="headerlink" title="2018-06更新(夏日清爽Look)"></a>2018-06更新(夏日清爽Look)</h2><p><img src="http://okn6xxp76.bkt.clouddn.com/house/backdoor1.jpg" alt=""><br><img src="http://okn6xxp76.bkt.clouddn.com/house/mmexport1530063413838.jpg" alt=""><br><img src="http://okn6xxp76.bkt.clouddn.com/house/IMG_20180714_062032%281%29.jpg" alt=""></p><h2 id="毕业照"><a href="#毕业照" class="headerlink" title="毕业照"></a>毕业照</h2><p><img src="http://okn6xxp76.bkt.clouddn.com/house/all-1.jpg" alt=""></p><h2 id="计划"><a href="#计划" class="headerlink" title="计划"></a>计划</h2><p>17年5月份开始动工的，选择全包，本人工作繁忙，所有东西能网购解决的绝对不出门半步。也属于无人监工状态，很多地方都只能选择睁只眼闭只眼。如果有下次装修，还是要留人盯着看，工期和质量各方面都有保证。</p><h2 id="第一版设计图"><a href="#第一版设计图" class="headerlink" title="第一版设计图"></a>第一版设计图</h2><p><img src="http://okn6xxp76.bkt.clouddn.com/house/build-02.png" alt="mark"><br>1、封闭式厨房U型设计，含冰箱<br>2、书房餐厅功能合并，增加干区洗面台，干湿分离<br>3、卫生间去掉浴缸改为淋浴<br>4、阳台放置洗衣机满足生活阳台功能<br>5、第一版水电点位确定</p><table><thead><tr><th style="text-align:left">区域</th><th style="text-align:center">明细</th><th style="text-align:center">个数</th><th style="text-align:left">明细</th></tr></thead><tbody><tr><td style="text-align:left">厨房</td><td style="text-align:center">双控开关</td><td style="text-align:center">1对</td><td style="text-align:left">玄关口1个，靠近卧室门口1个，用于厨房主照明代替玄关照明？</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">距地1.8m，灶台上方，预留给抽烟机</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">带开关五孔插座</td><td style="text-align:center">3个</td><td style="text-align:left">避开灶台和水槽，电饭煲，热水壶，微波炉</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">燃气热水器</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">冰箱侧后方冰箱用</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">预留给净水器和垃圾处理器</td></tr><tr><td style="text-align:left">卫生间</td><td style="text-align:center">集成式浴霸开关</td><td style="text-align:center">1个</td><td style="text-align:left">可以控制风暖排气照明</td></tr><tr><td style="text-align:left">卫生间</td><td style="text-align:center">防水盖五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">预留给智能马桶，提前知道马桶尺寸</td></tr><tr><td style="text-align:left">卫生间</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">照明</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">餐厅主照明</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">火锅、电磁炉 、手机充电</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">预留空气净化器或者吸尘器</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">16A三孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">空调挂机</td></tr><tr><td style="text-align:left">餐厅-洗面台</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">照明筒灯</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">双控开关</td><td style="text-align:center">1对</td><td style="text-align:left">控制卧室主照明</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">四孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">台灯、手机充电用 床头一侧分布2个</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">书桌上面 笔记本用，台灯用</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">书桌下面 预留</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">16A三孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">空调挂机</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">预留空气净化器或者吸尘器</td></tr><tr><td style="text-align:left">阳台家务</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">阳台主照明</td></tr><tr><td style="text-align:left">阳台家务</td><td style="text-align:center">防水盖五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">洗衣机</td></tr></tbody></table><h2 id="第二版修改"><a href="#第二版修改" class="headerlink" title="第二版修改"></a>第二版修改</h2><p>1、封闭式厨房L型设计，去掉部分上下柜<br>2、餐厅增加干区洗面台+防水吊顶<br>3、衣柜+射灯控制（仿衣帽间）<br>4、第二版水电点位确定</p><table><thead><tr><th style="text-align:left">区域</th><th style="text-align:center">明细</th><th style="text-align:center">个数</th><th style="text-align:left">明细</th></tr></thead><tbody><tr><td style="text-align:left">玄关</td><td style="text-align:center">双控开关</td><td style="text-align:center">1对</td><td style="text-align:left">对角线分布控制玄关主照明</td></tr><tr><td style="text-align:left">玄关</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">距地30cm，路由器小夜灯(厨房正对面)</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">双控开关</td><td style="text-align:center">1对</td><td style="text-align:left">对角线布置，用于厨房主照明(可以和玄关布置在一起)</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">距地1.8m，灶台上方，预留给抽烟机</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">带开关五孔插座</td><td style="text-align:center">3个</td><td style="text-align:left">避开灶台和水槽，电饭煲，热水壶，微波炉</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">燃气热水器</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">距地30cm，冰箱侧后方冰箱用</td></tr><tr><td style="text-align:left">厨房</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">水槽下方预留给净水器和垃圾处理器</td></tr><tr><td style="text-align:left">卫生间</td><td style="text-align:center">集成式浴霸开关</td><td style="text-align:center">1个</td><td style="text-align:left">可以控制风暖排气照明</td></tr><tr><td style="text-align:left">卫生间</td><td style="text-align:center">防水盖五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">预留给智能马桶，提前知道马桶尺寸</td></tr><tr><td style="text-align:left">卫生间</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">卫生间照明</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">餐厅主照明</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">火锅、电磁炉 、手机充电、笔记本电脑</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">餐厅另一面墙预留空气净化器或者吸尘器</td></tr><tr><td style="text-align:left">餐厅</td><td style="text-align:center">16A三孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">预留给空调挂机</td></tr><tr><td style="text-align:left">餐厅-洗面台</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">镜前灯</td></tr><tr><td style="text-align:left">餐厅-洗面台</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">吹风机，电动牙刷</td></tr><tr><td style="text-align:left">餐厅-洗面台</td><td style="text-align:center">五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">小厨宝</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">双控开关</td><td style="text-align:center">1对</td><td style="text-align:left">控制卧室主照明</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">控制衣柜上方轨道射灯照明</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">床头柜上方台灯、手机充电用</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">书桌上面 笔记本用，台灯用</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">2个</td><td style="text-align:left">书桌下面 预留</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">16A三孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">距地2.0米空调挂机</td></tr><tr><td style="text-align:left">卧室</td><td style="text-align:center">五孔插座</td><td style="text-align:center">3个</td><td style="text-align:left">有限电视/挂烫机/吸尘器/空气净化器用</td></tr><tr><td style="text-align:left">阳台家务</td><td style="text-align:center">开关</td><td style="text-align:center">1个</td><td style="text-align:left">阳台主照明</td></tr><tr><td style="text-align:left">阳台家务</td><td style="text-align:center">防水盖五孔插座</td><td style="text-align:center">1个</td><td style="text-align:left">洗衣机</td></tr></tbody></table><h2 id="厨房装修"><a href="#厨房装修" class="headerlink" title="厨房装修"></a>厨房装修</h2><p>可以说厨房和卫生间的瓷砖风格直接决定了我所有的装修风格。因为一眼看中了<br> 清爽的小白砖(尺寸300*300)，所以定下了主色调白色+黑色，地砖用的灰色也算低调。厨房的水槽也是特意选了黑色。安装这个水槽的时候也是破费周折。下水口的直径是非标的(口径58mm)用不上潜水艇的防臭下水管(潜水艇适合45/56)，我买了又退，不过不得不说潜水艇的质量真心好。之后上某宝买了转接口(内58转外45)和超长下水管。<br> 安装好小米净水器的时候，发现排污口无处安放。幸好有万能的某宝，在溢水口处做了文章，分出一个口给净水器排污口。<br> 在实际使用过程中遭遇了老房子的坑，下水水流过慢过大容易漏水。我暂时用玻璃胶处理了，但是并不是很完美的方法。</p><p>厨房其他的东西都是中规中矩了。</p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/all-kitchen1.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/kitchen-1.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/kitchen-2.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/kitchen-3.jpg" alt=""></p><h2 id="卫生间篇"><a href="#卫生间篇" class="headerlink" title="卫生间篇"></a>卫生间篇</h2><p>卫生间是老房子通病，面积小的可怜不到2平米。管道外露直接影响吊顶之后的高度，马桶位移又抬高地面。卫生间绝对是最难搞且不是很满意的地方。由于面积小只安排了淋浴和马桶。将台盆移到了外面，洗衣机移到了阳台。这样勉强让卫生间的空间合理了，也做了个干湿分离。</p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/all-bathroom.jpg" alt=""></p><h2 id="餐厅篇"><a href="#餐厅篇" class="headerlink" title="餐厅篇"></a>餐厅篇</h2><p>餐厅由于做了干区洗面台，留下的空间就一张餐桌了。餐厅朝南采光挺好，原本计划是餐厅和办公用。小窗户选了百叶窗又能节省空间，可以在窗边安装个书架放放东西和书本</p><p>餐桌不能选太大的，折叠的就很好</p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/all-bathroom1.jpg" alt=""> </p><p>​                                                                                                                                                     </p><h2 id="卧室篇"><a href="#卧室篇" class="headerlink" title="卧室篇"></a>卧室篇</h2><p>卧室面积最大，订做了一个衣柜，主要不想给顶部留空间，但是做完发现怪怪的甚至有点丑，以后衣柜还是考虑成品。书桌和铁艺床都是干干净净的感觉。减去一个床头柜给卧室留下了个空间。带盖脏衣篮很方便懒人可以随时移动 ，盖上盖子假装脏衣服都消失了。</p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/all-bedroom.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-5.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-3.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-2.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-4.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-6.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-1.jpg" alt=""></p><p><img src="http://okn6xxp76.bkt.clouddn.com/house/bedroom-7.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://okn6xxp76.bkt.clouddn.com/house/mmexport1531529084808.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="生活" scheme="https://liuchao0704.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>ng-repeat下ng-model与对象拷贝的简单分析</title>
    <link href="https://liuchao0704.github.io/2017/03/09/ngRepeat/"/>
    <id>https://liuchao0704.github.io/2017/03/09/ngRepeat/</id>
    <published>2017-03-09T12:27:36.000Z</published>
    <updated>2018-07-21T05:53:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>关于对象的总结</p><a id="more"></a><h2 id="ng-model绑定到-parent上"><a href="#ng-model绑定到-parent上" class="headerlink" title="ng-model绑定到$parent上"></a>ng-model绑定到$parent上</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">ng-bind</span>=<span class="string">"radio"</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"x in records"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"radio"</span> <span class="attr">ng-model</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;x&#125;&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">ng-bind</span>=<span class="string">"x"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当我们选中单选框的时候发现并没有想预期一样显示<code>ng-model</code>的值。这是因为处在<code>ng-repeat</code>之间的代码，对全局的<code>$scope</code>里变量的内容是不可见的，像<code></code>不是全局<code>$scope</code>里的成员。而是为<code>ng-repeat</code>创建的子<code>scope</code>里面的。所以要引用全局<code>$scope</code>里的成员，你可以使用<code>$parent</code>来引用全局的<code>$scope</code>,修改如下。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">ng-bind</span>=<span class="string">"radio"</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"radio"</span> <span class="attr">ng-model</span>=<span class="string">"$parent.radio"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;x&#125;&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这次点击input单选框，绑定的值就能显示了。</p><h2 id="ng-model绑定到对象的属性上"><a href="#ng-model绑定到对象的属性上" class="headerlink" title="ng-model绑定到对象的属性上"></a>ng-model绑定到对象的属性上</h2><p>这次我们将ng-model 绑定到对象上的属性下面，此时不用$parent 也能显示ng-model了<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">ng-bind</span>=<span class="string">"radio2.radio"</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"x in records"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"radio2"</span> <span class="attr">ng-model</span>=<span class="string">"radio2.radio"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;x&#125;&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">ng-bind</span>=<span class="string">"x"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>原理分析<br>根据js对象是属于引用类型的特点来将值绑定在对象的属性上，实现了自动更新。</p><h2 id="angular下的对象拷贝"><a href="#angular下的对象拷贝" class="headerlink" title="angular下的对象拷贝"></a>angular下的对象拷贝</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">angular.copy(source, [destination]);</span><br></pre></td></tr></table></figure><ul><li>复制一个对象或者一个数组（好吧，万物皆对象，数组也是一个对象）。 </li><li>如果省略了destination，一个新的对象或数组将会被创建出来;</li><li>如果提供了destination，则source对象中的所有元素和属性都会被复制到destination中</li><li>如果source不是对象或数组（例如是null或undefined）, 则返回source;</li><li>如果source和destination类型不一致，则会抛出异常。 注意：这个是单纯复制覆盖，不是类似继承。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;关于对象的总结&lt;/p&gt;
    
    </summary>
    
    
      <category term="angular" scheme="https://liuchao0704.github.io/tags/angular/"/>
    
      <category term="对象" scheme="https://liuchao0704.github.io/tags/%E5%AF%B9%E8%B1%A1/"/>
    
  </entry>
  
  <entry>
    <title>Angular 表单验证</title>
    <link href="https://liuchao0704.github.io/2017/02/28/form/"/>
    <id>https://liuchao0704.github.io/2017/02/28/form/</id>
    <published>2017-02-28T14:02:20.000Z</published>
    <updated>2018-07-21T05:50:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>form表单提交之前的验证操作以及对form表单中单选框和多选框的值获取</p><a id="more"></a><h2 id="Form-表单的状态"><a href="#Form-表单的状态" class="headerlink" title="Form 表单的状态"></a>Form 表单的状态</h2><table><thead><tr><th style="text-align:left">属性类</th><th style="text-align:left"></th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">$valid</td><td style="text-align:left">ng-valid</td><td style="text-align:left">Boolean 告诉我们这一项当前基于你设定的规则是否验证通过</td></tr><tr><td style="text-align:left">$invalid</td><td style="text-align:left">ng-invalid</td><td style="text-align:left">Boolean 告诉我们这一项当前基于你设定的规则是否验证未通过</td></tr><tr><td style="text-align:left">$pristine</td><td style="text-align:left">ng-pristine</td><td style="text-align:left">Boolean 如果表单或者输入框没有使用则为True</td></tr><tr><td style="text-align:left">$dirty</td><td style="text-align:left">ng-dirty</td><td style="text-align:left">Boolean 如果表单或者输入框有使用到则为True</td></tr></tbody></table><h2 id="设置Form表单"><a href="#设置Form表单" class="headerlink" title="设置Form表单"></a>设置Form表单</h2><p>如果我们使用 novalidate 将不使用html5的表单验证而是使用我们自己的验证<br>注意我们把表单提交事件绑定到form的ng-submit上并且判断表单是否合法<code>userForm.$valid</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"useform"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">novalidate</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">autocomplete</span>=<span class="string">"off"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">ng-submit</span>=<span class="string">"userForm.$valid &amp;&amp; submitForm()"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- form 表单一定要有name属性 通过name属性访问表单 input也是如此 同时关闭表单自动填充以及h5 浏览器自带验证方法 --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="当表单不合法禁用提交按钮"><a href="#当表单不合法禁用提交按钮" class="headerlink" title="当表单不合法禁用提交按钮"></a>当表单不合法禁用提交按钮</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-danger m-t"</span> <span class="attr">ng-disabled</span>=<span class="string">"useform.$invalid"</span>&gt;</span>提交!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="重置表单-清除-dirty样式"><a href="#重置表单-清除-dirty样式" class="headerlink" title="重置表单 (清除$dirty样式)"></a>重置表单 (清除$dirty样式)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$scope.menuForm.$setPristine();  </span><br><span class="line">$scope.menuForm.$setUntouched();</span><br></pre></td></tr></table></figure><h2 id="input-必填-最长-最短-正则匹配"><a href="#input-必填-最长-最短-正则匹配" class="headerlink" title="input 必填/最长/最短/正则匹配"></a>input 必填/最长/最短/正则匹配</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span> &gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">label</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> </span></span><br><span class="line"><span class="tag">                  <span class="attr">class</span>=<span class="string">"form-control"</span> </span></span><br><span class="line"><span class="tag">                  <span class="attr">name</span>=<span class="string">"name"</span> </span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-required</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-model</span>=<span class="string">"formData.name"</span> </span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-minlength</span>=<span class="string">"3"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-maxlength</span>=<span class="string">"8"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">ng-pattern</span>=<span class="string">"/^[a-zA-Z]+$/"</span></span></span><br><span class="line"><span class="tag">                  &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="使用ng-show来显示错误信息"><a href="#使用ng-show来显示错误信息" class="headerlink" title="使用ng-show来显示错误信息"></a>使用ng-show来显示错误信息</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$dirty &amp;&amp; useform.name.$invalid"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.minlength"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">      名字太短.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.maxlength"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">    名字太长.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.required"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">    名字是必填的.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.pattern"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">    名字只能是字母.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="使用ng-class-给表单添加错误样式"><a href="#使用ng-class-给表单添加错误样式" class="headerlink" title="使用ng-class 给表单添加错误样式"></a>使用ng-class 给表单添加错误样式</h2><p>因为我们使用了 Bootstrap, 我们将就使用它们提供的类(has-error). 这样就能围绕我们的form-group获得漂亮的错误信息和颜色.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;'has-error':useform.name.$dirty &amp;&amp; (useform.name.$invalid || useform.$submitted)&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="input-checkbox-多选框"><a href="#input-checkbox-多选框" class="headerlink" title="input[checkbox] 多选框"></a>input[checkbox] 多选框</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MULTIPLE CHECKBOXES --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Favorite Colors<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox-inline"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.red"</span>&gt;</span> Red</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox-inline"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.blue"</span>&gt;</span> Blue</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox-inline"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.green"</span>&gt;</span> Green</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当选择多选框的时候把formData.favoriteColors打印出来</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"favoriteColors"</span>:&#123;<span class="string">"red"</span>:<span class="literal">true</span>,<span class="string">"blue"</span>:<span class="literal">true</span>,<span class="string">"green"</span>:<span class="literal">true</span>&#125;&#125;</span><br></pre></td></tr></table></figure><h3 id="input-checkbox-添加-value-属性"><a href="#input-checkbox-添加-value-属性" class="headerlink" title="input[checkbox] 添加 value 属性"></a>input[checkbox] 添加 value 属性</h3><p>如果我们不想简单的设置checkoxs上ng-model为true或者false,而是希望ng-model能和checkbox 上的value绑定，那该如何绑定呢？</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.red"</span> <span class="attr">value</span>=<span class="string">"red"</span>&gt;</span> Red</span><br></pre></td></tr></table></figure><p>我在 vaule上尝试写了个值,打印输出一下看看,结果还是true、false切换并没有达到我们想要的效果，看来checkbox的值绑定需要用到其他方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"favoriteColors"</span>:&#123;<span class="string">"red"</span>:<span class="literal">true</span>,<span class="string">"blue"</span>:<span class="literal">true</span>,<span class="string">"green"</span>:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure><p>原因是当未设置ngTrueValue和ngFalseValue时，checkbox默认值是true和false。<br>如果给checkbox 赋ngTrueValue和ngFalseValue值,那么就能使用我们自定义的值了。请注意字符串添加单引号否则会报错</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- CUSTOM VALUE CHECKBOXES --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Personal Question<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"awesome"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">ng-model</span>=<span class="string">"formData.awesome"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">ng-true-value</span>=<span class="string">" 'ofCourse'"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">ng-false-value</span>=<span class="string">" 'iWish' "</span>&gt;</span></span><br><span class="line">        Are you awesome?</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当选择多选框的时候把formData.awesome打印出来</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"awesome"</span>:<span class="string">"ofCourse"</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="input-radio-单选框"><a href="#input-radio-单选框" class="headerlink" title="input[radio] 单选框"></a>input[radio] 单选框</h2><ol><li>value 选择中时的值</li><li>ngValue 选择中时的值（表达式）</li><li>ngchange model更新触发 没有required属性，没办法做必填校验，所以最好初始化的时候默认选中一个。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Chicken or the Egg?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"chickenEgg"</span> <span class="attr">value</span>=<span class="string">"chicken"</span> <span class="attr">ng-model</span>=<span class="string">"formData.chickenEgg"</span>&gt;</span> Chicken</span><br><span class="line">         <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"chickenEgg"</span> <span class="attr">value</span>=<span class="string">"egg"</span> <span class="attr">ng-model</span>=<span class="string">"formData.chickenEgg"</span>&gt;</span> Egg</span><br><span class="line">         <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p> 选中egg把值先打印出来</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"chickenEgg"</span>:<span class="string">"egg"</span></span><br></pre></td></tr></table></figure><h3 id="扩展1：input-radio-控制-input的-disable-属性"><a href="#扩展1：input-radio-控制-input的-disable-属性" class="headerlink" title="扩展1：input[radio] 控制 input的 disable 属性"></a>扩展1：input[radio] 控制 input的 disable 属性</h3><p>场景:如果单选框选择true,则只有true对应的输入框属性可以编辑,如果单选框选择false,则只有false对应的输入框属性可以编辑。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">div&gt;</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-disabled</span>=<span class="string">"formData.chickenEgg == 'egg'"</span> <span class="attr">ng-required</span>=<span class="string">"formData.chickenEgg == 'chicken'"</span> <span class="attr">value</span>=<span class="string">"chicken"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-disabled</span>=<span class="string">"formData.chickenEgg == 'chicken'"</span> <span class="attr">ng-required</span>=<span class="string">"formData.chickenEgg == 'egg'"</span> <span class="attr">value</span>=<span class="string">"egg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="扩展2：ng-repeat下input-radio-的ng-model"><a href="#扩展2：ng-repeat下input-radio-的ng-model" class="headerlink" title="扩展2：ng-repeat下input[radio]的ng-model"></a>扩展2：ng-repeat下input[radio]的ng-model</h3><p>详见 <a href="https://liuchao0704.github.io/2017/03/09/ngRepeat/">https://liuchao0704.github.io/2017/03/09/ngRepeat/</a></p><h3 id="扩展3：angular动态控制checkbox全选与取消全选"><a href="#扩展3：angular动态控制checkbox全选与取消全选" class="headerlink" title="扩展3：angular动态控制checkbox全选与取消全选"></a>扩展3：angular动态控制checkbox全选与取消全选</h3><p>详见 <a href="https://liuchao0704.github.io/2017/04/10/multiselect/">https://liuchao0704.github.io/2017/04/10/multiselect/</a></p><h2 id="下拉框-Select-值是动态生成的"><a href="#下拉框-Select-值是动态生成的" class="headerlink" title="下拉框 Select 值是动态生成的"></a>下拉框 Select 值是动态生成的</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">ng-model</span>=<span class="string">"formData.selected"</span> <span class="attr">ng-options</span>=<span class="string">"x.id as x.name for x in users"</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>请选择<span class="tag">&lt;/<span class="name">option</span>&gt;</span><span class="comment">&lt;!-- 替换空白--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$scope.users = [</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">'a'</span>,<span class="attr">id</span>:<span class="string">'1'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">'b'</span>,<span class="attr">id</span>:<span class="string">'2'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">'c'</span>,<span class="attr">id</span>:<span class="string">'3'</span>&#125;</span><br><span class="line">    ];</span><br><span class="line">$scope.formData = &#123;</span><br><span class="line">      selected:<span class="string">'2'</span>,</span><br><span class="line">      chickenEgg:<span class="string">'egg'</span></span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><h3 id="提交Form表单"><a href="#提交Form表单" class="headerlink" title="提交Form表单"></a>提交Form表单</h3><hr><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$scope.submitForm = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> param = &#123;</span><br><span class="line">           name:$scope.formData.name</span><br><span class="line">        &#125;;</span><br><span class="line">         </span><br><span class="line">       $http(&#123; </span><br><span class="line">        url:<span class="string">'api/test.js'</span>, </span><br><span class="line">        method:<span class="string">'post'</span>,</span><br><span class="line">        data:param</span><br><span class="line">         &#125;).success(<span class="function"><span class="keyword">function</span>(<span class="params">data,header,config,status</span>)</span>&#123; &#125;)</span><br><span class="line">         .error(<span class="function"><span class="keyword">function</span>(<span class="params">data,header,config,status</span>)</span>&#123;&#125;);</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure><p>点击提交的时候，查看提交头<br><img src="http://okn6xxp76.bkt.clouddn.com/http/http.png" alt="mark"></p><h2 id="提交含有文件的Form-表单"><a href="#提交含有文件的Form-表单" class="headerlink" title="提交含有文件的Form 表单"></a>提交含有文件的Form 表单</h2><p>当form表单中有文件提交的时候，请求设置有些不同，因为是通过anjularjs的http请求来上传文件的，所以要让当前的request成为一个Multipart/form-data请求。</p><p>anjularjs对于post和get请求默认的Content-Type header 是application/json。通过设置‘Content-Type’: undefined，这样浏览器不仅帮我们把Content-Type 设置为 multipart/form-data，还填充上当前的boundary，如果你手动设置为： ‘Content-Type’: multipart/form-data，后台会抛出异常：the current request boundary parameter is null。 </p><p>ps：通过设置 transformRequest: angular.identity ，anjularjs transformRequest function 将序列化我们的formdata object.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fd = <span class="keyword">new</span> FormData();</span><br><span class="line"><span class="keyword">var</span> file1 = <span class="built_in">document</span>.querySelector(<span class="string">'input[name=file]'</span>).files[<span class="number">0</span>];</span><br><span class="line">fd.append(<span class="string">'logo1'</span>, file1);</span><br><span class="line">$http(&#123;</span><br><span class="line">  method:<span class="string">"POST"</span>,</span><br><span class="line">  url:<span class="string">"api/test.js"</span>,</span><br><span class="line">  data:fd,</span><br><span class="line">  headers:&#123;</span><br><span class="line">  <span class="string">"Content-Type"</span>: <span class="literal">undefined</span></span><br><span class="line">  &#125;,</span><br><span class="line">  transformRequest: angular.identity</span><br><span class="line">  &#125;).success(<span class="function"><span class="keyword">function</span>(<span class="params">data,header,config,status</span>)</span>&#123; &#125;)</span><br><span class="line">    .error(<span class="function"><span class="keyword">function</span>(<span class="params">data,header,config,status</span>)</span>&#123;&#125;);</span><br></pre></td></tr></table></figure><p>ps:上面的file的获取还可以通过：var file = $scope.myFile.同时要注意在js中 data: fd,不能像普通的参数一样写为：params：{ fd，…}，<br>在GET方法中可以使用params ，在POST/PUT/PATCH/DELETE中不能使用params 来传递数据，要使用data来传递。<br>参考：<a href="http://blog.csdn.net/wei389083222/article/details/51289704" target="_blank" rel="noopener">http://blog.csdn.net/wei389083222/article/details/51289704</a><br><img src="http://okn6xxp76.bkt.clouddn.com/http/http2.png" alt="mark"></p><p>完整代码如下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"formApp"</span> <span class="attr">ng-controller</span>=<span class="string">"formController"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12 col-sm-10 col-sm-offset-1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Angular Checkboxes and Radio Buttons<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"useform"</span> <span class="attr">novalidate</span> <span class="attr">autocomplete</span>=<span class="string">"off"</span> <span class="attr">ng-submit</span>=<span class="string">"userForm.$valid &amp;&amp; submitForm()"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- NAME INPUT --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;'has-error':useform.name.$dirty &amp;&amp; useform.name.$invalid&#125;"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">required</span> <span class="attr">ng-model</span>=<span class="string">"formData.name"</span> <span class="attr">ng-minlength</span>=<span class="string">"3"</span> <span class="attr">ng-maxlength</span>=<span class="string">"8"</span> <span class="attr">ng-pattern</span>=<span class="string">"/^[a-zA-Z]+$/"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$dirty &amp;&amp; useform.name.$invalid"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.minlength"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">                        名字太短.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.maxlength"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">                        名字太长.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.required"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span>名字是必填的.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-show</span>=<span class="string">"useform.name.$error.pattern"</span> <span class="attr">class</span>=<span class="string">"help-block"</span>&gt;</span></span><br><span class="line">                        名字只能是字母.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- =============================================== --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- ALL OUR CHECKBOXES AND RADIO BOXES WILL GO HERE --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- =============================================== --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- SUBMIT BUTTON (DOESNT DO ANYTHING) --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-12"</span> <span class="attr">style</span>=<span class="string">"margin-bottom: 15px;"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-danger m-t"</span> <span class="attr">ng-disabled</span>=<span class="string">"useform.$invalid"</span>&gt;</span>提交!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- MULTIPLE CHECKBOXES --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>Favorite Colors<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox-inline"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.red"</span> <span class="attr">value</span>=<span class="string">"red"</span>&gt;</span> Red</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox-inline"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.blue"</span> <span class="attr">value</span>=<span class="string">"blue"</span>&gt;</span> Blue</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"checkbox-inline"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"favoriteColors"</span> <span class="attr">ng-model</span>=<span class="string">"formData.favoriteColors.green"</span> <span class="attr">value</span>=<span class="string">"green"</span>&gt;</span> Green</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- CUSTOM VALUE CHECKBOXES --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>Personal Question<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"awesome"</span> <span class="attr">ng-model</span>=<span class="string">"formData.awesome"</span> <span class="attr">ng-checked</span>=<span class="string">"formData.awesome"</span> <span class="attr">ng-true-value</span>=<span class="string">" 'ofCourse'"</span> <span class="attr">ng-false-value</span>=<span class="string">" 'iWish' "</span>&gt;</span> Are you awesome?</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            RADIO BUTTONS</span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>Chicken or the Egg?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"chickenEgg"</span> <span class="attr">value</span>=<span class="string">"chicken"</span> <span class="attr">ng-model</span>=<span class="string">"formData.chickenEgg"</span>&gt;</span> Chicken</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"chickenEgg"</span> <span class="attr">value</span>=<span class="string">"egg"</span> <span class="attr">ng-model</span>=<span class="string">"formData.chickenEgg"</span>&gt;</span> Egg</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-disabled</span>=<span class="string">"formData.chickenEgg == 'egg'"</span> <span class="attr">ng-required</span>=<span class="string">"formData.chickenEgg == 'chicken'"</span> <span class="attr">value</span>=<span class="string">"chicken"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-disabled</span>=<span class="string">"formData.chickenEgg == 'chicken'"</span> <span class="attr">ng-required</span>=<span class="string">"formData.chickenEgg == 'egg'"</span> <span class="attr">value</span>=<span class="string">"egg"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">ng-model</span>=<span class="string">"formData.selected"</span> <span class="attr">ng-options</span>=<span class="string">"x.id as x.name for x in users"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>请选择<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                替换空白</span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- SHOW OFF OUR FORMDATA OBJECT --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Sample Form Object<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">        &#123;&#123; formData &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> formApp = angular.module(<span class="string">'formApp'</span>, []);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    formApp.controller(<span class="string">'formController'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope, $http)</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">        $scope.users = [&#123;</span></span><br><span class="line"><span class="actionscript">            name: <span class="string">'a'</span>,</span></span><br><span class="line"><span class="actionscript">            id: <span class="string">'1'</span></span></span><br><span class="line"><span class="undefined">        &#125;, &#123;</span></span><br><span class="line"><span class="actionscript">            name: <span class="string">'b'</span>,</span></span><br><span class="line"><span class="actionscript">            id: <span class="string">'2'</span></span></span><br><span class="line"><span class="undefined">        &#125;, &#123;</span></span><br><span class="line"><span class="actionscript">            name: <span class="string">'c'</span>,</span></span><br><span class="line"><span class="actionscript">            id: <span class="string">'3'</span></span></span><br><span class="line"><span class="undefined">        &#125;];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// we will store our form data in this object</span></span></span><br><span class="line"><span class="undefined">        $scope.formData = &#123;</span></span><br><span class="line"><span class="actionscript">            selected: <span class="string">'2'</span>,</span></span><br><span class="line"><span class="actionscript">            chickenEgg: <span class="string">'egg'</span></span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        $scope.submitForm = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">            /*  var param = &#123;</span></span><br><span class="line"><span class="undefined">                 name:$scope.formData.name</span></span><br><span class="line"><span class="undefined">              &#125;;</span></span><br><span class="line"><span class="undefined">               </span></span><br><span class="line"><span class="undefined">             $http(&#123; </span></span><br><span class="line"><span class="actionscript">              url:<span class="string">'api/test.js'</span>, </span></span><br><span class="line"><span class="actionscript">              method:<span class="string">'post'</span>,</span></span><br><span class="line"><span class="undefined">              data:param</span></span><br><span class="line"><span class="actionscript">               &#125;).success(<span class="function"><span class="keyword">function</span><span class="params">(data,header,config,status)</span></span>&#123; &#125;)</span></span><br><span class="line"><span class="actionscript">               .error(<span class="function"><span class="keyword">function</span><span class="params">(data,header,config,status)</span></span>&#123;&#125;);*/</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> fd = <span class="keyword">new</span> FormData();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> file1 = <span class="built_in">document</span>.querySelector(<span class="string">'input[name=file]'</span>).files[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">            fd.append(<span class="string">'logo1'</span>, file1);</span></span><br><span class="line"><span class="undefined">            $http(&#123;</span></span><br><span class="line"><span class="actionscript">                    method: <span class="string">"POST"</span>,</span></span><br><span class="line"><span class="actionscript">                    url: <span class="string">"api/test.js"</span>,</span></span><br><span class="line"><span class="undefined">                    data: fd,</span></span><br><span class="line"><span class="undefined">                    headers: &#123;</span></span><br><span class="line"><span class="actionscript">                        <span class="string">"Content-Type"</span>: <span class="literal">undefined</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    transformRequest: angular.identity</span></span><br><span class="line"><span class="actionscript">                &#125;).success(<span class="function"><span class="keyword">function</span><span class="params">(data, header, config, status)</span> </span>&#123;&#125;)</span></span><br><span class="line"><span class="actionscript">                .error(<span class="function"><span class="keyword">function</span><span class="params">(data, header, config, status)</span> </span>&#123;&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;form表单提交之前的验证操作以及对form表单中单选框和多选框的值获取&lt;/p&gt;
    
    </summary>
    
    
      <category term="angular" scheme="https://liuchao0704.github.io/tags/angular/"/>
    
      <category term="form" scheme="https://liuchao0704.github.io/tags/form/"/>
    
  </entry>
  
  <entry>
    <title>Cookie/localStroage/sessionStorage 本地化存储简单分析比较</title>
    <link href="https://liuchao0704.github.io/2017/02/15/cookie/"/>
    <id>https://liuchao0704.github.io/2017/02/15/cookie/</id>
    <published>2017-02-15T14:07:18.000Z</published>
    <updated>2018-07-21T05:45:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>分析cookie localStroage sessionStorage 之间的特点选择更适合的方式来存储页面之间的交换信息。</p><a id="more"></a><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>优点：历史悠久,浏览器支持率高。但是cookie在存储空间上有一些限制。</p><table><thead><tr><th style="text-align:left">浏览器</th><th style="text-align:center">cookie个数（每个域名）</th><th style="text-align:center">单个cookie容量限制</th></tr></thead><tbody><tr><td style="text-align:left">Microsoft</td><td style="text-align:center">50个</td><td style="text-align:center">4KB左右(包括name、value和等号)</td></tr><tr><td style="text-align:left">Firefox</td><td style="text-align:center">50个</td><td style="text-align:center">4KB左右(包括name、value和等号)</td></tr><tr><td style="text-align:left">Opera</td><td style="text-align:center">30个</td><td style="text-align:center">4KB左右(包括name、value和等号)</td></tr><tr><td style="text-align:left">Chrome</td><td style="text-align:center">53个</td><td style="text-align:center">4KB左右(包括name、value和等号)</td></tr></tbody></table><h3 id="Cookie-4-个属性"><a href="#Cookie-4-个属性" class="headerlink" title="Cookie 4 个属性"></a>Cookie 4 个属性</h3><ol><li><p>cookie的生存期属性:expires;默认情况下,cookie只在浏览器会话期存在.退出浏览器就丢失;可以用expires设置时间;退出浏览器后就不会丢失并存为客户端浏览器的cookie文件;过了时间后cookie失效,还会自动删除cookie文件. </p></li><li><p>path属性:默认情况下,在同一个目录下文件可以调用; 例如:<code>http://demo.com/c1/1.html</code>设置的cookie可以被<code>http://demo.com/c1/2.html</code>调用.但不能被<code>http://demo.com/c2/</code>目录下的文件调用; 但如把path属性设成”/“;则在<code>http://demo.com/</code>下的所有文件都可调用此cookie.  </p></li><li><p>domain属性:例如设成”.google.com”则在.google.com下的所有服务器下的文件都可以调用cookie</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie=<span class="string">"userId=320; path=/"</span>;</span><br></pre></td></tr></table></figure></li><li><p>安全属性:默认情况下为false;用http协议不安全传输;true:用https等协议安全传输. </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie=<span class="string">"name=value; domain=cookieDomain"</span>;</span><br></pre></td></tr></table></figure></li></ol><h3 id="Cookie-设置"><a href="#Cookie-设置" class="headerlink" title="Cookie 设置"></a>Cookie 设置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">'username=admin'</span></span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">'age=17'</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie=<span class="string">"username=admin; age=17"</span>; <span class="comment">//如果是多个键值对：</span></span><br></pre></td></tr></table></figure><h3 id="Cookie-函数封装"><a href="#Cookie-函数封装" class="headerlink" title="Cookie 函数封装"></a>Cookie 函数封装</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*添加cookie*/</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addCookie</span>(<span class="params">name, value, days, path</span>) </span>&#123; </span><br><span class="line">        <span class="keyword">var</span> name = <span class="built_in">escape</span>(name);</span><br><span class="line">        <span class="keyword">var</span> value = <span class="built_in">escape</span>(value);</span><br><span class="line">        <span class="keyword">var</span> expires = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        expires.setTime(expires.getTime() + days * <span class="number">3600000</span> * <span class="number">24</span>);</span><br><span class="line">        <span class="comment">//path=/，表示cookie能在整个网站下使用，path=/temp，表示cookie只能在temp目录下使用</span></span><br><span class="line">        path = path == <span class="string">""</span> ? <span class="string">""</span> : <span class="string">";path="</span> + path;</span><br><span class="line">        <span class="comment">//GMT(Greenwich Mean Time)是格林尼治平时，现在的标准时间，协调世界时是UTC</span></span><br><span class="line">        <span class="comment">//参数days只能是数字型</span></span><br><span class="line">        <span class="keyword">var</span> _expires = (<span class="keyword">typeof</span> days) == <span class="string">"string"</span> ? <span class="string">""</span> : <span class="string">";expires="</span> + expires.toUTCString();</span><br><span class="line">        <span class="built_in">document</span>.cookie = name + <span class="string">"="</span> + value + _expires + path;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>执行一下函数 </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addCookie(<span class="string">'cookie'</span>,<span class="number">222</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure><p>在本地打开网页会发现Cookie,并且路径是当前文件夹下的路径</p><p> <img src="http://okn6xxp76.bkt.clouddn.com/cookie/cookie.png" alt="mark"></p><h3 id="Cookie-读取"><a href="#Cookie-读取" class="headerlink" title="Cookie 读取"></a>Cookie 读取</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">name</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">var</span> arr,reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^| )"</span>+name+<span class="string">"=([^;]*)(;|$)"</span>);</span><br><span class="line"><span class="keyword">if</span>(arr=<span class="built_in">document</span>.cookie.match(reg))</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">unescape</span>(arr[<span class="number">2</span>]);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Cookie-删除"><a href="#Cookie-删除" class="headerlink" title="Cookie 删除"></a>Cookie 删除</h3><p>如果设置的时候 <code>path=&#39;/xxx&#39;</code> 那么删除掉时候也要相应的添加上path</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/*删除cookie*/</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">deleteCookie</span>(<span class="params">name,path</span>)</span>&#123;   <span class="comment">/**根据cookie的键，删除cookie，其实就是设置其失效**/</span></span><br><span class="line">    <span class="keyword">var</span> name = <span class="built_in">escape</span>(name);</span><br><span class="line">    <span class="keyword">var</span> expires = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">0</span>);</span><br><span class="line">    path = path == <span class="string">""</span> ? <span class="string">""</span> : <span class="string">";path="</span> + path;</span><br><span class="line">    <span class="built_in">document</span>.cookie = name + <span class="string">"="</span>+ <span class="string">";expires="</span> + expires.toUTCString() + path;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="localStroge"><a href="#localStroge" class="headerlink" title="localStroge"></a>localStroge</h2><h3 id="localStroge-设置"><a href="#localStroge-设置" class="headerlink" title="localStroge 设置"></a>localStroge 设置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.setItem(key,value);<span class="comment">//设置key 为 value</span></span><br></pre></td></tr></table></figure><h3 id="localStroge-获取"><a href="#localStroge-获取" class="headerlink" title="localStroge 获取"></a>localStroge 获取</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.getItem(key);<span class="comment">//获取key的值</span></span><br></pre></td></tr></table></figure><h3 id="localStroge-清除单个Key"><a href="#localStroge-清除单个Key" class="headerlink" title="localStroge 清除单个Key"></a>localStroge 清除单个Key</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.removeItem(key);<span class="comment">//清除key的值</span></span><br></pre></td></tr></table></figure><h3 id="localStroge-清除所有"><a href="#localStroge-清除所有" class="headerlink" title="localStroge 清除所有"></a>localStroge 清除所有</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.clear();<span class="comment">//一次性清除所有的键值对</span></span><br></pre></td></tr></table></figure><p>如果要使cookie在当前整个网站下可用,可以将cookie_dir指定为根目录,例如：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.<span class="attribute">cookie</span>=”userid=320;path=/”;</span><br></pre></td></tr></table></figure></p><p>localstorage的存储范围就是当前整个网站，不存在指定访问范围这一说。 </p><h3 id="localStroge遍历存储的数据"><a href="#localStroge遍历存储的数据" class="headerlink" title="localStroge遍历存储的数据"></a>localStroge遍历存储的数据</h3><p>当你不清楚本地localStorage存储了多少数据的时候，用key(index)方法绝对是一个不错的选择，key方法可以遍历localStorage存储的key。写个简单的例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;localStorage.length;i++)&#123;</span><br><span class="line">　　<span class="built_in">document</span>.write(localStorage.key(i)+<span class="string">":"</span>+localStorage.getItem(localStorage.key(i))+<span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="localStrogeJSON存储"><a href="#localStrogeJSON存储" class="headerlink" title="localStrogeJSON存储"></a>localStrogeJSON存储</h3><p>当需要存储的数据很多时，可以将数据存储到数组中并转换成JSON格式的数据。</p><p>JSON.stringify(data) 将对象转换成JSON格式的数据串。</p><p>JSON.parse(data)将数据解析成对象并返回解析后的对象。</p><p>这样说或许不太好懂，直接上例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = &#123;<span class="string">"name"</span>:<span class="string">"moomoo"</span>,<span class="string">"age"</span>:<span class="number">2</span>,<span class="string">"eat"</span>:<span class="string">"apple"</span>&#125;;</span><br><span class="line">localStorage.setItem(<span class="string">"arr"</span>,<span class="built_in">JSON</span>.stringify(arr));</span><br><span class="line">arr = <span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">"arr"</span>));</span><br></pre></td></tr></table></figure><p><img src="http://okn6xxp76.bkt.clouddn.com/cookie/localstroge.png" alt="mark"></p><h3 id="sessionStorage设置"><a href="#sessionStorage设置" class="headerlink" title="sessionStorage设置"></a>sessionStorage设置</h3><p>sessionStorage 用法基本同localStroge ,但是当网页关闭重新打开的时候,sessionStorage就会清除。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage();</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">sessionStorage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> arr = &#123;</span><br><span class="line">              <span class="string">"name"</span>: <span class="string">"pp"</span>,</span><br><span class="line">              <span class="string">"age"</span>: <span class="number">33</span>,</span><br><span class="line">              <span class="string">"eat"</span>: <span class="string">"pear"</span></span><br><span class="line">          &#125;;</span><br><span class="line">          <span class="keyword">var</span> sessionStorage = <span class="built_in">window</span>.sessionStorage; <span class="comment">// 请注意使用window.sessionStorage 否则会报错</span></span><br><span class="line">          sessionStorage.setItem(<span class="string">"yy"</span>, <span class="built_in">JSON</span>.stringify(arr));</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p><img src="http://okn6xxp76.bkt.clouddn.com/cookie/session.png" alt="mark"></p><p>下面是完整的HMTL代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>cookie 跨域和解决方案<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 "</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span> cookie设置<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 "</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"set-cookie-name "</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span>&gt;</span>name<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span> <span class="attr">id</span>=<span class="string">"set-cookie-name"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"set-cookie-value"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span>&gt;</span>value<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span> <span class="attr">id</span>=<span class="string">"set-cookie-value"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"set-cookie-btn"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-success col-xs-3 col-xs-offset-1 "</span>&gt;</span> 点击设置cookie</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-4 "</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"col-xs-5"</span> <span class="attr">id</span>=<span class="string">"get-cookie-input"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"get-cookie-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-info col-xs-5 col-xs-offset-1"</span>&gt;</span> 获取cookie 按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-2 "</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"del-cookie-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-danger col-xs-10 col-xs-offset-1"</span>&gt;</span> 删除cookie 按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-8 "</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Localstroge设置<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 "</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"set-localstroge-name "</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span>&gt;</span>name<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span> <span class="attr">id</span>=<span class="string">"set-localstroge-name"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"set-localstroge-value"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span>&gt;</span>value<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"col-xs-2"</span> <span class="attr">id</span>=<span class="string">"set-localstroge-value"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"set-localstroge-btn"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-success col-xs-3 col-xs-offset-1 "</span>&gt;</span> 点击设置localstroge</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-4 "</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"col-xs-5"</span> <span class="attr">id</span>=<span class="string">"get-localstroge-input"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"get-localstroge-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-info col-xs-5 col-xs-offset-1"</span>&gt;</span> 获取localstroge 按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-2 "</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"del-localstroge-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-danger col-xs-10 col-xs-offset-1"</span>&gt;</span> 删除localstroge 按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12 "</span> <span class="attr">style</span>=<span class="string">'margin-top: 20px;'</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"del-localstroge-all-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-danger col-xs-3 col-xs-offset-2"</span>&gt;</span> 删除所有localstroge 按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"set-localstroge-arr-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-primary col-xs-3 col-xs-offset-1"</span>&gt;</span> 设置localstrogeArray按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-8 "</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Sessionstroge设置<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"set-sessionstroge-arr-btn"</span> <span class="attr">class</span>=<span class="string">" btn btn-infro col-xs-3 col-xs-offset-1"</span>&gt;</span> 设置sessionstrogeArray按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">window</span>.localStorage) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'localStorage'</span>)</span></span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'not  support localStorage'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">window</span>.sessionStorage) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'sessionStorage'</span>)</span></span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'not  support sessionStorage'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#set-cookie-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> name = $(<span class="string">'#set-cookie-name'</span>).val();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> value = $(<span class="string">'#set-cookie-value'</span>).val();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (name !== <span class="literal">null</span> &amp;&amp; value !== <span class="literal">null</span>) &#123;</span></span><br><span class="line"><span class="actionscript">                addCookie(name, value, <span class="number">3</span>, <span class="string">'/setcookie'</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#get-cookie-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> name = $(<span class="string">'#set-cookie-name'</span>).val();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> value = getCookie(name);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'#get-cookie-input'</span>).val(value);</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#del-cookie-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> name = $(<span class="string">'#set-cookie-name'</span>).val();</span></span><br><span class="line"><span class="undefined">            deleteCookie(name);</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#set-localstroge-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> key = $(<span class="string">'#set-localstroge-name'</span>).val();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> value = $(<span class="string">'#set-localstroge-value'</span>).val();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (name !== <span class="literal">null</span> &amp;&amp; value !== <span class="literal">null</span>) &#123;</span></span><br><span class="line"><span class="undefined">                localStorage.setItem(key, value);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#get-localstroge-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> key = $(<span class="string">'#set-localstroge-name'</span>).val();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> value = localStorage.getItem(key);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'#get-localstroge-input'</span>).val(value);</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#del-localstroge-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> key = $(<span class="string">'#set-localstroge-name'</span>).val();</span></span><br><span class="line"><span class="undefined">            localStorage.removeItem(key);</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#del-localstroge-all-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            localStorage.clear();</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#set-localstroge-arr-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            setLocalstrogeArray();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">setLocalstrogeArray</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> arr = &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="string">"name"</span>: <span class="string">"moomoo"</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"age"</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"eat"</span>: <span class="string">"apple"</span></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="javascript">            localStorage.setItem(<span class="string">"arr"</span>, <span class="built_in">JSON</span>.stringify(arr));</span></span><br><span class="line"><span class="javascript">            arr = <span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">"arr"</span>));</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(arr)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#set-sessionstroge-arr-btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            sessionStorage();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">sessionStorage</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> arr = &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="string">"name"</span>: <span class="string">"pp"</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"age"</span>: <span class="number">33</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"eat"</span>: <span class="string">"pear"</span></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> sessionStorage = <span class="built_in">window</span>.sessionStorage;</span></span><br><span class="line"><span class="javascript">            sessionStorage.setItem(<span class="string">"yy"</span>, <span class="built_in">JSON</span>.stringify(arr));</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*添加cookie*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">addCookie</span><span class="params">(name, value, days, path)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> name = <span class="built_in">escape</span>(name);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> value = <span class="built_in">escape</span>(value);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> expires = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="undefined">        expires.setTime(expires.getTime() + days * 3600000 * 24);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//path=/，表示cookie能在整个网站下使用，path=/temp，表示cookie只能在temp目录下使用</span></span></span><br><span class="line"><span class="actionscript">        path = path == <span class="string">""</span> ? <span class="string">""</span> : <span class="string">";path="</span> + path;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//GMT(Greenwich Mean Time)是格林尼治平时，现在的标准时间，协调世界时是UTC</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">//参数days只能是数字型</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> _expires = (<span class="keyword">typeof</span> days) == <span class="string">"string"</span> ? <span class="string">""</span> : <span class="string">";expires="</span> + expires.toUTCString();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.cookie = name + <span class="string">"="</span> + value + _expires + path;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*获取cookie*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">getCookie</span><span class="params">(name)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr, reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^| )"</span> + name + <span class="string">"=([^;]*)(;|$)"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (arr = <span class="built_in">document</span>.cookie.match(reg))</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="built_in">unescape</span>(arr[<span class="number">2</span>]);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">else</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*删除cookie*/</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">deleteCookie</span><span class="params">(name, path)</span> </span>&#123; <span class="comment">/**根据cookie的键，删除cookie，其实就是设置其失效**/</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> name = <span class="built_in">escape</span>(name);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> expires = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="actionscript">        path = path == <span class="string">""</span> ? <span class="string">""</span> : <span class="string">";path="</span> + path;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.cookie = name + <span class="string">"="</span> + <span class="string">";expires="</span> + expires.toUTCString() + path;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;分析cookie localStroage sessionStorage 之间的特点选择更适合的方式来存储页面之间的交换信息。&lt;/p&gt;
    
    </summary>
    
    
      <category term="cookie" scheme="https://liuchao0704.github.io/tags/cookie/"/>
    
  </entry>
  
  <entry>
    <title>gulp 自动化构建工具小总结</title>
    <link href="https://liuchao0704.github.io/2017/02/12/gulpAuto/"/>
    <id>https://liuchao0704.github.io/2017/02/12/gulpAuto/</id>
    <published>2017-02-12T12:32:50.000Z</published>
    <updated>2018-07-21T05:50:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>使用gulp一段时间了，编译less省时省力，记录一下自己的安装过程，也算是比较详细的gulp使用教程了。</p><a id="more"></a><h3 id="本教程使用的工具以及安装环境"><a href="#本教程使用的工具以及安装环境" class="headerlink" title="本教程使用的工具以及安装环境"></a>本教程使用的工具以及安装环境</h3><hr><ol><li>node.js </li><li>git</li><li>windows</li></ol><h3 id="完成效果"><a href="#完成效果" class="headerlink" title="完成效果"></a>完成效果</h3><hr><ol><li>自动编译less文件生成css文件</li><li>当css,js 文件发生更改的时候浏览器自动为我们刷新</li><li>清除缓存,自动为css,js添加版本号例如 <code>href=&quot;css/app.css?v=98ad83c3b4&quot;</code></li></ol><h3 id="1-安装node-js、git"><a href="#1-安装node-js、git" class="headerlink" title="1.安装node.js、git"></a>1.安装node.js、git</h3><h3 id="2-全局安装gulp"><a href="#2-全局安装gulp" class="headerlink" title="2.全局安装gulp"></a>2.全局安装gulp</h3>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp -g</span><br></pre></td></tr></table></figure><h3 id="3-本地安装-gulp"><a href="#3-本地安装-gulp" class="headerlink" title="3.本地安装 gulp"></a>3.本地安装 gulp</h3><p>老规矩E盘下新建文件夹(比如www，注意不要有中文名称)并执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm init</span><br></pre></td></tr></table></figure><p>npm init命令会为你创建一个package.json文件，这个文件保存着这个项目相关信息。比如你用到的各种依赖（这里主要是插件）（终端会自动出现下面内容，这里先随便填就行）<br>创建完之后，我们执行下本地安装的命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp --save-dev</span><br></pre></td></tr></table></figure></p><p>执行完之后，node将创建node_modules文件夹，里面有个gulp文件夹。</p><h3 id="4-项目目录结构"><a href="#4-项目目录结构" class="headerlink" title="4. 项目目录结构"></a>4. 项目目录结构</h3><p><img src="http://okn6xxp76.bkt.clouddn.com/gulp/gulp-file.png" alt="mark"></p><p>在E盘/www文件夹下面我们使用app文件夹作为开发目录（所有的源文件都放在这下面），dist文件夹用来存放生产环境下的内容。这些文件名，你想怎么起都行，但请务必记住你的目录结构。现在来创建gulpfile.js。</p><h3 id="5-第一个gulp-任务"><a href="#5-第一个gulp-任务" class="headerlink" title="5. 第一个gulp 任务"></a>5. 第一个gulp 任务</h3><p>你需要先在文件根目录下创建一个gulpfile.js文件，查看一下之前的文件结构。</p><p>在文件里面输入这样的代码 <code>var gulp = require(&#39;gulp&#39;);</code>这行命令告知Node去node_modules中查找gulp包，先局部查找，找不到就去全局环境中查找。找到之后就会赋值给gulp变量，然后我们就可以使用它了。</p><p>简单的任务如下所示：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'task-name'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="comment">// Stuff here</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p><p>task-name 是给你的任务起的名字，稍后在命令行中执行gulp task-name，将运行该任务。写个HelloWorld，是这样的：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line">  gulp.task(<span class="string">'hello'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello World!'</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p><p>命令行中执行：$ gulp hello</p><p>输出’Hello World!’ 表示成功了。</p><p>gulp任务通常会包含两个特定的Gulp方法和一系列Gulp插件。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'task-name'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> gulp.src(<span class="string">'source-files'</span>) <span class="comment">// Get source files with gulp.src</span></span><br><span class="line"> .pipe(aGulpPlugin()) <span class="comment">// Sends it through a gulp plugin</span></span><br><span class="line"> .pipe(gulp.dest(<span class="string">'destination'</span>)) <span class="comment">// Outputs the file in the destination folder</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h3 id="6-简单的less-任务"><a href="#6-简单的less-任务" class="headerlink" title="6.简单的less 任务"></a>6.简单的less 任务</h3><p>由于本人用的是less 所以这里讲一下less插件 。其实less 和 sass插件安装几乎是同理可得，引入插件的同时首先要安装一下插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp-less --save-dev</span><br></pre></td></tr></table></figure><p>记得在app 文件夹下有less文件夹 并且在less文件夹下面新建style.less文件。找到index.hmtl 并引入样式 <link rel="stylesheet" href="css/style.css"></p><p>打开之前的gulpfile.js  添加一下less任务</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>);</span><br><span class="line">    gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        gulp.src([<span class="string">'app/less/style.less'</span>]) </span><br><span class="line">            .pipe(less())</span><br><span class="line">            .pipe(gulp.dest(<span class="string">'app/css'</span>)); <span class="comment">//将会在app/css下生成style.css</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h3 id="7-Node-通配符"><a href="#7-Node-通配符" class="headerlink" title="7. Node 通配符"></a>7. Node 通配符</h3><p>通配符是一种匹配模式，允许你匹配到多个文件。不止是Node，很多平台都有，有点像正则表达式。使用通配符，计算机检查文件名和路径进行匹配。大部分时候，我们只需要用到下面4种匹配模式：</p><ul><li><p><code>*.scss</code>： * 号匹配当前目录任意文件，所以这里 <code>*.scss</code>  匹配当前目录下所有scss文件</p></li><li><p><code>**/*.scss</code>：匹配当前目录及其子目录下的所有scss文件。</p></li><li><p><code>!not-me.scss</code>:!号移除匹配的文件，这里将移除<code>not-me.scss</code></p></li><li><p><code>*.+(scss|sass)</code> ：+号后面会跟着圆括号，里面的元素用|分割，匹配多个选项。这里将匹配scss和sass文件。</p></li></ul><p>改造一下less 任务</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> gulp.src(<span class="string">'app/less/**/*.less'</span>) </span><br><span class="line">        .pipe(less())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h3 id="8-自动编译-监听任务"><a href="#8-自动编译-监听任务" class="headerlink" title="8.自动编译 监听任务"></a>8.自动编译 监听任务</h3><p>现在我们能处理多个文件了，但是不想每次都要执行命令，怎么办？Gulp就是为懒人而生的，我们可以使用watch命令，自动检测并执行。</p><p>Gulp提供watch方法给我们，语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Gulp watch syntax</span></span><br><span class="line">    gulp.watch(<span class="string">'files-to-watch'</span>, [<span class="string">'tasks'</span>, <span class="string">'to'</span>, <span class="string">'run'</span>]);</span><br></pre></td></tr></table></figure><p>所以同时监听多个less 任务就是</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      gulp.watch(<span class="string">'app/less/**/*.less'</span>, [<span class="string">'less'</span>]);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>当编译less时出现语法错误或者其他异常，会终止watch事件，通常需要查看命令提示符窗口才能知道，这并不是我们所希望的，所以我们需要处理出现异常并不终止watch事件（gulp-plumber），并提示我们出现了错误（gulp-notify）。</p><p>安装两个新插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp-plumber --save-dev</span><br><span class="line">$ npm install gulp-notify --save-dev</span><br></pre></td></tr></table></figure><p>继续修改一下less任务<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> notify = <span class="built_in">require</span>(<span class="string">'gulp-notify'</span>);</span><br><span class="line">    <span class="keyword">var</span> plumber = <span class="built_in">require</span>(<span class="string">'gulp-plumber'</span>);</span><br><span class="line">        gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> gulp.src(<span class="string">'app/less/**/*.less'</span>)</span><br><span class="line">            .pipe(plumber(&#123;<span class="attr">errorHandler</span>: notify.onError(<span class="string">'Error: '</span>)&#125;))</span><br><span class="line">            .pipe(less()) </span><br><span class="line">            .pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure></p><h3 id="9-使用Browser-Sync自动刷新浏览器"><a href="#9-使用Browser-Sync自动刷新浏览器" class="headerlink" title="9.使用Browser Sync自动刷新浏览器"></a>9.使用Browser Sync自动刷新浏览器</h3><p>记得引入新插件首先要安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install browser-sync --save-dev</span><br></pre></td></tr></table></figure></p><p>在gulpfile.js中 新建任务<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>);</span><br></pre></td></tr></table></figure></p><p>我们创建一个broswerSync任务，我们需要告知它，根目录在哪里。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'browserSync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     browserSync(&#123;</span><br><span class="line">       server: &#123;</span><br><span class="line">         baseDir: <span class="string">'app'</span></span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><p>我们稍微修改一下之前的代码，让每次css文件更改都刷新一下浏览器：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> gulp.src(<span class="string">'app/less/**/*.less'</span>)</span><br><span class="line">        .pipe(plumber(&#123;<span class="attr">errorHandler</span>: notify.onError(<span class="string">'Error: '</span>)&#125;))</span><br><span class="line">        .pipe(less()) </span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">        .pipe(browserSync.reload(&#123;</span><br><span class="line">          stream: <span class="literal">true</span></span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>现在我们配置好BroswerSync了，我们需要运行这两个命令。我们可以在watch任务之前告知gulp，先把browserSync和less任务执行了再说。 语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'watch'</span>, [<span class="string">'array'</span>, <span class="string">'of'</span>, <span class="string">'tasks'</span>, <span class="string">'to'</span>, <span class="string">'complete'</span>,<span class="string">'before'</span>, <span class="string">'watch'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>不止是less修改的时候需要刷新浏览器吧？js,html 改变都要刷新浏览器 ：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'watch'</span>,[<span class="string">'browserSync'</span>, <span class="string">'less'</span>],  <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      gulp.watch(<span class="string">'app/less/**/*.less'</span>, [<span class="string">'less'</span>]);</span><br><span class="line">      gulp.watch(<span class="string">'app/*.html'</span>, browserSync.reload);</span><br><span class="line">      gulp.watch(<span class="string">'app/js/**/*.js'</span>, browserSync.reload);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>好了至此我们已经完成了所有的操作。<code>$ gulp watch</code>一下就能实现自动编译less 并且根据css ,html 等文件的改变自动刷新浏览器了。</p><p>以上参考资料：</p><ul><li><a href="http://www.tuicool.com/articles/QzaqAbF" target="_blank" rel="noopener">http://www.tuicool.com/articles/QzaqAbF</a></li><li><a href="http://www.ydcss.com/archives/18" target="_blank" rel="noopener">http://www.ydcss.com/archives/18</a></li><li><a href="http://www.ydcss.com/archives/34" target="_blank" rel="noopener">http://www.ydcss.com/archives/34</a></li></ul><h3 id="10-BrowserSync-代理模式"><a href="#10-BrowserSync-代理模式" class="headerlink" title="10. BrowserSync 代理模式"></a>10. BrowserSync 代理模式</h3><p>查看一下之前的gulpfile.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'browserSync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    browserSync(&#123;</span><br><span class="line">      server: &#123;</span><br><span class="line">        baseDir: <span class="string">'app'</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></p><p>这个命令用于纯静态站点，也就是仅一些.html文件的情况。如果是动态站点，则使用代理模式。例如PHP站点，已经建立了一个本地服务器如<code>http://localhost:8080</code>，此时会是这样的命令，我们来做个修改</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'browserSync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      browserSync(&#123;</span><br><span class="line">        proxy: <span class="string">"http://localhost:8080/xxx/app/"</span>  <span class="comment">//这个xxx文件夹稍后根据实际情况而定</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>这样手机也可以访问电脑里面的网站了 <code>$ gulp watch</code>一下 电脑、手机端可以自动刷新了。最后分享一下 gulpfile.js 代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">        less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>),</span><br><span class="line">        notify = <span class="built_in">require</span>(<span class="string">'gulp-notify'</span>),</span><br><span class="line">        plumber = <span class="built_in">require</span>(<span class="string">'gulp-plumber'</span>),</span><br><span class="line">        browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>);</span><br><span class="line">    gulp.task(<span class="string">'hello'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Hello World!'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> gulp.src(<span class="string">'app/less/**/*.less'</span>)</span><br><span class="line">        .pipe(plumber(&#123;<span class="attr">errorHandler</span>: notify.onError(<span class="string">'Error: '</span>)&#125;))</span><br><span class="line">        .pipe(less()) </span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">        .pipe(browserSync.reload(&#123;</span><br><span class="line">          stream: <span class="literal">true</span></span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;);</span><br><span class="line">    gulp.task(<span class="string">'watch'</span>,[<span class="string">'browserSync'</span>, <span class="string">'less'</span>],  <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      gulp.watch(<span class="string">'app/less/**/*.less'</span>, [<span class="string">'less'</span>]);</span><br><span class="line">      gulp.watch(<span class="string">'app/*.html'</span>, browserSync.reload);</span><br><span class="line">      gulp.watch(<span class="string">'app/js/**/*.js'</span>, browserSync.reload);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// Browser-sync task, only cares about compiled CSS</span></span><br><span class="line">    gulp.task(<span class="string">'browserSync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      browserSync(&#123;</span><br><span class="line">        proxy: <span class="string">"http://127.0.0.1/xxx/app/"</span> <span class="comment">//xxx 根据实际情况而定</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h3 id="11-自动为css，js-增加版本号"><a href="#11-自动为css，js-增加版本号" class="headerlink" title="11.自动为css，js 增加版本号"></a>11.自动为css，js 增加版本号</h3><p>gulp 在原html文件上自动化添加js、css版本号原理</p><ol><li><p>修改js和css文件</p></li><li><p>通过对js,css文件内容进行hash运算，生成一个文件的唯一hash字符串(如果文件修改则hash号会发生变化)</p></li><li><p>替换html中的js,css文件名，生成一个带版本号的文件名</p></li></ol><p>原html文件代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../css/default.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/app.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>预期效果：在原目录结构下html文件代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../css/default.css?v=5a636d79c4"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/app.js?v=3a0d844594"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev gulp-rev</span><br><span class="line">npm install --save-dev gulp-rev-collector</span><br><span class="line">npm install --save-dev run-sequence</span><br></pre></td></tr></table></figure><p>继续修改gulpfile.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入gulp和gulp插件</span></span><br><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    runSequence = <span class="built_in">require</span>(<span class="string">'run-sequence'</span>),</span><br><span class="line">    rev = <span class="built_in">require</span>(<span class="string">'gulp-rev'</span>),</span><br><span class="line">    revCollector = <span class="built_in">require</span>(<span class="string">'gulp-rev-collector'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义css、js源文件路径</span></span><br><span class="line"><span class="keyword">var</span> cssSrc = <span class="string">'css/*.css'</span>,</span><br><span class="line">    jsSrc = <span class="string">'js/*.js'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//CSS生成文件hash编码并生成 rev-manifest.json文件名对照映射</span></span><br><span class="line">gulp.task(<span class="string">'revCss'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(cssSrc)</span><br><span class="line">        .pipe(rev())</span><br><span class="line">        .pipe(rev.manifest())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'rev/css'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//js生成文件hash编码并生成 rev-manifest.json文件名对照映射</span></span><br><span class="line">gulp.task(<span class="string">'revJs'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(jsSrc)</span><br><span class="line">        .pipe(rev())</span><br><span class="line">        .pipe(rev.manifest())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'rev/js'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Html替换css、js文件版本</span></span><br><span class="line">gulp.task(<span class="string">'revHtml'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'rev/**/*.json'</span>, <span class="string">'View/*.html'</span>])<span class="comment">//views是本地html文件的路径，可自行配置*/</span></span><br><span class="line">        .pipe(revCollector())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'View'</span>));<span class="comment">///*Html更换css、js文件版本,WEB-INF/views也是和本地html文件的路径一致*/</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//开发构建</span></span><br><span class="line">gulp.task(<span class="string">'dev'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">done</span>) </span>&#123;</span><br><span class="line">    condition = <span class="literal">false</span>;</span><br><span class="line">    runSequence(</span><br><span class="line">        [<span class="string">'revCss'</span>],</span><br><span class="line">        [<span class="string">'revJs'</span>],</span><br><span class="line">        [<span class="string">'revHtml'</span>],</span><br><span class="line">        done);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'dev'</span>]);</span><br></pre></td></tr></table></figure><p>执行gulp命令后的效果</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//rev目录下生成了manifest.json对应文件</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"default.css"</span>: <span class="string">"default-803a7fe4ae.css"</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"../css/default-803a7fe4ae.css"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"../js/app-3a0d844594.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>很显然这不是我们需要的效果,所以我们要继续修改</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开node_modules\gulp-rev\index.js</span><br><span class="line">第<span class="number">144</span>行 manifest[originalFile] = revisionedFile;</span><br><span class="line">更新为: manifest[originalFile] = originalFile + <span class="string">'?v='</span> + file.revHash;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开nodemodules\rev-path\index.js</span><br><span class="line">第<span class="number">10</span>行 <span class="keyword">return</span> filename + <span class="string">'-'</span> + hash + ext;</span><br><span class="line">更新为: <span class="keyword">return</span> filename + ext;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开node_modules\gulp-rev-collector\index.js</span><br><span class="line">第<span class="number">31</span>行<span class="keyword">if</span> ( !_.isString(json[key]) || path.basename(json[key]).replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>( opts.revSuffix ), <span class="string">' '</span>) !==  path.basename(key) ) &#123;</span><br><span class="line">更新为: <span class="keyword">if</span> ( !_.isString(json[key]) || path.basename(json[key]).split(<span class="string">'?'</span>)[<span class="number">0</span>] !== path.basename(key) ) &#123;</span><br></pre></td></tr></table></figure><p>再执行gulp命令，得到的结果如下(效果正确):</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../css/default.css?v=33379df310?v=803a7fe4ae"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/app.js?v=3a0d844594?v=3a0d844594"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>有没有发现，会在版本号后面再添加一个版本号，因为gulp只替换了原来文件名，这样又不符合预期效果了，所以我们想到，还需要修改插件的替换正则表达式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打开node_modules\gulp-rev-collector\index.js</span><br><span class="line">第<span class="number">117</span>行 regexp: <span class="keyword">new</span> <span class="built_in">RegExp</span>( <span class="string">'([\/\\\\\'"])'</span> + pattern, <span class="string">'g'</span> ),</span><br><span class="line">更新为: regexp: <span class="keyword">new</span> <span class="built_in">RegExp</span>( <span class="string">'([\/\\\\\'"])'</span> + pattern+<span class="string">'(\\?v=\\w&#123;10&#125;)?'</span>, <span class="string">'g'</span> ),</span><br></pre></td></tr></table></figure><p>现在你不管执行多少遍gulp命令，得到的html效果都是</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../css/default.css?v=5a636d79c4"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/app.js?v=3a0d844594"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以上参考资料：<a href="https://my.oschina.net/enjoymore/blog/830622" target="_blank" rel="noopener">https://my.oschina.net/enjoymore/blog/830622</a></p><p>最后分享一下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>),</span><br><span class="line">    notify = <span class="built_in">require</span>(<span class="string">'gulp-notify'</span>),</span><br><span class="line">    plumber = <span class="built_in">require</span>(<span class="string">'gulp-plumber'</span>),</span><br><span class="line">    browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>),</span><br><span class="line">    runSequence = <span class="built_in">require</span>(<span class="string">'run-sequence'</span>),</span><br><span class="line">    rev = <span class="built_in">require</span>(<span class="string">'gulp-rev'</span>),</span><br><span class="line">    revCollector = <span class="built_in">require</span>(<span class="string">'gulp-rev-collector'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义css js 路径</span></span><br><span class="line"><span class="keyword">var</span> cssUrl = <span class="string">'src/css/*.css'</span>,</span><br><span class="line">    jsUrl = <span class="string">'src/js/*.js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello 任务</span></span><br><span class="line">gulp.task(<span class="string">'hello'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello World!'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//less 任务</span></span><br><span class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/css/less/app.less'</span>)</span><br><span class="line">        .pipe(plumber(&#123; <span class="attr">errorHandler</span>: notify.onError(<span class="string">'Error: &lt;%= error.message %&gt;'</span>) &#125;))</span><br><span class="line">        .pipe(less())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'src/css'</span>))</span><br><span class="line">        .pipe(browserSync.reload(&#123;</span><br><span class="line">            stream: <span class="literal">true</span></span><br><span class="line">        &#125;))</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听任务</span></span><br><span class="line">gulp.task(<span class="string">'watch'</span>, [<span class="string">'browserSync'</span>, <span class="string">'less'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.watch(<span class="string">'src/css/less/*.less'</span>,[<span class="string">'less'</span>]);</span><br><span class="line">    gulp.watch(<span class="string">'src/css/app.css'</span>,[<span class="string">'dev'</span>]);</span><br><span class="line">    gulp.watch(<span class="string">'src/js/*.js'</span>,[<span class="string">'dev'</span>]);</span><br><span class="line">    gulp.watch(<span class="string">'src/*.html'</span>,browserSync.reload);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Browser-sync task, only cares about compiled CSS</span></span><br><span class="line">gulp.task(<span class="string">'browserSync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    browserSync(&#123;</span><br><span class="line">        proxy: <span class="string">"http://127.0.0.1/XXX/src/#/"</span> <span class="comment">//根据实际情况写</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//CSS生成文件hash编码并生成 rev-manifest.json文件名对照映射</span></span><br><span class="line">gulp.task(<span class="string">'revCss'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(cssUrl)</span><br><span class="line">        .pipe(rev())</span><br><span class="line">        .pipe(rev.manifest())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'rev/css'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//js生成文件hash编码并生成 rev-manifest.json文件名对照映射</span></span><br><span class="line">gulp.task(<span class="string">'revJs'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(jsUrl)</span><br><span class="line">        .pipe(rev())</span><br><span class="line">        .pipe(rev.manifest())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'rev/js'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Html更换css、js文件版本</span></span><br><span class="line">gulp.task(<span class="string">'revHtml'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'rev/**/*.json'</span>, <span class="string">'src/*.html'</span>]) <span class="comment">/*WEB-INF/views是本地html文件的路径，可自行配置*/</span></span><br><span class="line">        .pipe(revCollector())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'src/'</span>)); <span class="comment">/*Html更换css、js文件版本,WEB-INF/views也是和本地html文件的路径一致*/</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//开发构建</span></span><br><span class="line">gulp.task(<span class="string">'dev'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>) </span>&#123;</span><br><span class="line">    condition = <span class="literal">false</span>;</span><br><span class="line">    runSequence(</span><br><span class="line">        [<span class="string">'revCss'</span>], [<span class="string">'revJs'</span>], [<span class="string">'revHtml'</span>],</span><br><span class="line">        done);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//gulp.task('default', ['dev']);</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用gulp一段时间了，编译less省时省力，记录一下自己的安装过程，也算是比较详细的gulp使用教程了。&lt;/p&gt;
    
    </summary>
    
    
      <category term="gulp" scheme="https://liuchao0704.github.io/tags/gulp/"/>
    
  </entry>
  
  <entry>
    <title>JS Date对象学习</title>
    <link href="https://liuchao0704.github.io/2017/02/08/date/"/>
    <id>https://liuchao0704.github.io/2017/02/08/date/</id>
    <published>2017-02-08T13:40:44.000Z</published>
    <updated>2018-07-21T05:49:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>关于 Date 对象处理方法</p><a id="more"></a><h3 id="利用Date-构造函数可以创建指定时间日期对象，例如"><a href="#利用Date-构造函数可以创建指定时间日期对象，例如" class="headerlink" title="利用Date()构造函数可以创建指定时间日期对象，例如:"></a>利用Date()构造函数可以创建指定时间日期对象，例如:</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> theDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(theDate);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'今年：'</span> + theDate.getFullYear() + <span class="string">'\n'</span>) <span class="comment">// 获取年份</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'今月：'</span> + (<span class="built_in">parseInt</span>(theDate.getMonth())+<span class="number">1</span>) + <span class="string">'\n'</span>) <span class="comment">// 获取月  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'今日：'</span> + theDate.getDate() + <span class="string">'\n'</span>) <span class="comment">// 获取日</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'星期：'</span> + theDate.getDay() + <span class="string">'\n'</span>) <span class="comment">// 获取星期</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'小时：'</span> + theDate.getHours() + <span class="string">'\n'</span>) <span class="comment">// 获取小时</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'分钟：'</span> + theDate.getMinutes() + <span class="string">'\n'</span>) <span class="comment">// 获取分钟：</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'秒:'</span> + theDate.getSeconds()+ <span class="string">'\n'</span>) <span class="comment">// 获取秒</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'毫秒:'</span> + theDate.getMilliseconds() + <span class="string">'\n'</span>) <span class="comment">// 获取毫秒</span></span><br></pre></td></tr></table></figure><p>上面是对于Date()构造函数最简单的应用了，Date对象具有多种构造函数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(milliseconds)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(datestring)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, day)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, day, hours)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, day, hours, minutes)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, day, hours, minutes, seconds)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, day, hours, minutes, seconds, microseconds)</span><br></pre></td></tr></table></figure></p><h3 id="new-Date"><a href="#new-Date" class="headerlink" title="new Date()"></a>new Date()</h3><p>当 new Date()构造函数而不传递参数的时候，新创建的对象自动获得当前时间。以下代方便获取Date对象时间戳</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"> <span class="comment">// do something</span></span><br><span class="line"><span class="keyword">var</span> stop = +<span class="keyword">new</span> <span class="built_in">Date</span>(),</span><br><span class="line">    result = stop - start;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于支持 Date.now()的浏览器</span></span><br><span class="line"><span class="keyword">var</span> start = <span class="built_in">Date</span>.now();</span><br><span class="line"> <span class="comment">//do something</span></span><br><span class="line"><span class="keyword">var</span> stop = <span class="built_in">Date</span>.now(),</span><br><span class="line">     result = stop- start;</span><br></pre></td></tr></table></figure><h3 id="Date-parse"><a href="#Date-parse" class="headerlink" title="Date.parse()"></a>Date.parse()</h3><p>如果想要获取指定日期或者时间的日期对象，可以通过Date.parse()或者Date.UTC()。Date.parse()接收一个表示日期的字符串参数，然后根据这个字符串参数返回相应日期的毫秒数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.parse(<span class="string">'May 25,2004'</span>));</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="keyword">var</span> someDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'May 25,2004'</span>)</span><br></pre></td></tr></table></figure><h3 id="Date-UTC"><a href="#Date-UTC" class="headerlink" title="Date.UTC()"></a>Date.UTC()</h3><p>Date.UTC() 方法同样也会返回表示日期的毫秒数，但它与Date.parse()在构建值时使用不同的信息。Date.UTC() 的参数分别是年份，基于0的月份(1月是0，2月是1)、月中的哪一天、小时数、分钟、秒、以及毫秒数。在这些参数中，只有前两个参数是必须的。其他可以忽略。其中月中的天数默认为1号，其他为0。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.UTC(<span class="number">2000</span>,<span class="number">0</span>))</span><br></pre></td></tr></table></figure><h3 id="简单总结下"><a href="#简单总结下" class="headerlink" title="简单总结下"></a>简单总结下</h3><ol><li>new Date()，没有参数的时候，创建的是 <strong>当前</strong> 时间日期对象。</li><li>new Date(milliseconds)，当参数为数字的时候，那么这个参数就是时间戳，被视为毫秒，创建一个距离1970年1月一日指定毫秒的时间日期对象。</li><li>new Date(datestring)，此参数是一个字符串，并且此字符串一定能够使用Date.parse()转换。</li><li>以下六个构造函数是精确定义:<ul><li>year，是一个整数，如果是0-99，那么在此基础上加1900，其他的都原样返回。</li><li>month,是一个整数，范围是0-11。</li><li>day，是一个整数，范围是1-31。</li><li>hours，是一个整数，范围是0-23。</li><li>minutes，是一个整数，范围是0-59。</li><li>seconds，是一个整数，范围是0-59.</li><li>microseconds，是一个整数，范围是0-9999。</li><li><h3 id="一些常用扩展"><a href="#一些常用扩展" class="headerlink" title="一些常用扩展"></a>一些常用扩展</h3></li></ul></li></ol><p>将日期变成指定格式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">Date</span>.prototype.format = <span class="function"><span class="keyword">function</span> (<span class="params">fmt</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> o = &#123;</span><br><span class="line">            <span class="string">"M+"</span>: <span class="keyword">this</span>.getMonth() + <span class="number">1</span>,                 <span class="comment">//月份</span></span><br><span class="line">            <span class="string">"d+"</span>: <span class="keyword">this</span>.getDate(),                    <span class="comment">//日</span></span><br><span class="line">            <span class="string">"h+"</span>: <span class="keyword">this</span>.getHours(),                   <span class="comment">//小时</span></span><br><span class="line">            <span class="string">"m+"</span>: <span class="keyword">this</span>.getMinutes(),                 <span class="comment">//分</span></span><br><span class="line">            <span class="string">"s+"</span>: <span class="keyword">this</span>.getSeconds(),                 <span class="comment">//秒</span></span><br><span class="line">            <span class="string">"q+"</span>: <span class="built_in">Math</span>.floor((<span class="keyword">this</span>.getMonth() + <span class="number">3</span>) / <span class="number">3</span>), <span class="comment">//季度</span></span><br><span class="line">            <span class="string">"S"</span>: <span class="keyword">this</span>.getMilliseconds()             <span class="comment">//毫秒</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.test(fmt)) &#123;</span><br><span class="line">            fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, (<span class="keyword">this</span>.getFullYear() + <span class="string">""</span>).substr(<span class="number">4</span> - <span class="built_in">RegExp</span>.$<span class="number">1.</span>length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"("</span> + k + <span class="string">")"</span>).test(fmt)) &#123;</span><br><span class="line">                fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, (<span class="built_in">RegExp</span>.$<span class="number">1.</span>length == <span class="number">1</span>) ? (o[k]) : ((<span class="string">"00"</span> + o[k]).substr((<span class="string">""</span> + o[k]).length)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fmt;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">var</span> NewDate = <span class="keyword">new</span> <span class="built_in">Date</span>().format(<span class="string">'yyyy-MM-dd'</span>)将输出指定格式的今日日期</span><br></pre></td></tr></table></figure></p><p>将指定格式的日期变成时间戳<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertTimes</span>(<span class="params"> date </span>)</span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> date = date.split(<span class="string">'-'</span>); </span><br><span class="line">    d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    d.setFullYear(date[<span class="number">0</span>]);</span><br><span class="line">    d.setMonth(date[<span class="number">1</span>]<span class="number">-1</span>); </span><br><span class="line">    d.setDate(date[<span class="number">2</span>]); </span><br><span class="line">    <span class="keyword">return</span> d.getTime();</span><br><span class="line">&#125;  </span><br><span class="line"><span class="built_in">console</span>.log( convertTimes(<span class="string">'2017-2-3'</span>));</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;关于 Date 对象处理方法&lt;/p&gt;
    
    </summary>
    
    
      <category term="js" scheme="https://liuchao0704.github.io/tags/js/"/>
    
      <category term="date" scheme="https://liuchao0704.github.io/tags/date/"/>
    
  </entry>
  
</feed>
